<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Analysis - Optimized Dashboard</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e9ecef;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --error-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #0dcaf0;
            --success-color: #198754;
            --style-color: #6f42c1;
            --hover-bg: #f8f9fa;
            --shadow: 0 1px 3px rgba(0,0,0,0.12);
            --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
        }
        
        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #3a3a3a;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --border-color: #404040;
            --hover-bg: #2d2d2d;
            --shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        
        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(var(--bg-secondary), 0.95);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .title {
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .stats-bar {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .stat-badge {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .stat-badge:hover {
            transform: translateY(-1px);
        }
        
        .stat-badge.error {
            background: rgba(220, 53, 69, 0.1);
            color: var(--error-color);
            border: 1px solid rgba(220, 53, 69, 0.3);
        }
        
        .stat-badge.warning {
            background: rgba(255, 193, 7, 0.1);
            color: #f39c12;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
        
        .stat-badge.style {
            background: rgba(111, 66, 193, 0.1);
            color: var(--style-color);
            border: 1px solid rgba(111, 66, 193, 0.3);
        }
        
        .stat-badge.performance {
            background: rgba(25, 135, 84, 0.1);
            color: var(--success-color);
            border: 1px solid rgba(25, 135, 84, 0.3);
        }
        
        .stat-badge.information {
            background: rgba(13, 202, 240, 0.1);
            color: var(--info-color);
            border: 1px solid rgba(13, 202, 240, 0.3);
        }
        
        /* Controls */
        .controls {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem;
            position: sticky;
            top: 73px;
            z-index: 90;
        }
        
        .controls-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 0.5rem 2.5rem 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 0.875rem;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--style-color);
            box-shadow: 0 0 0 3px rgba(111, 66, 193, 0.1);
        }
        
        .search-hint {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        
        .control-buttons {
            display: flex;
            gap: 0.5rem;
        }
        
        .control-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .control-btn:hover {
            background: var(--hover-bg);
            border-color: var(--style-color);
        }
        
        .control-btn.active {
            background: var(--style-color);
            color: white;
            border-color: var(--style-color);
        }
        
        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        /* Progress Bar */
        .progress-section {
            margin-bottom: 2rem;
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        
        .progress-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), var(--style-color));
            transition: width 0.3s;
        }
        
        /* File Groups */
        .file-group {
            margin-bottom: 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            overflow: hidden;
            transition: all 0.2s;
        }
        
        .file-group:hover {
            box-shadow: var(--shadow);
        }
        
        .file-header {
            padding: 1rem;
            background: var(--bg-secondary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        
        .file-header:hover {
            background: var(--hover-bg);
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .file-name {
            font-weight: 500;
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }
        
        .issue-count {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        
        .severity-dots {
            display: flex;
            gap: 2px;
        }
        
        .severity-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .severity-dot.error { background: var(--error-color); }
        .severity-dot.warning { background: var(--warning-color); }
        .severity-dot.style { background: var(--style-color); }
        .severity-dot.performance { background: var(--success-color); }
        .severity-dot.information { background: var(--info-color); }
        
        .file-toggle {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        
        /* Issues */
        .issues-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s;
        }
        
        .issues-container.expanded {
            max-height: none;
        }
        
        .issue-item {
            padding: 0.75rem 1rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            transition: background 0.2s;
            cursor: pointer;
        }
        
        .issue-item:hover {
            background: var(--hover-bg);
        }
        
        .issue-item.viewed {
            opacity: 0.7;
        }
        
        .issue-item.fixed {
            text-decoration: line-through;
            opacity: 0.5;
        }
        
        .issue-severity {
            flex-shrink: 0;
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .issue-content {
            flex: 1;
            min-width: 0;
        }
        
        .issue-message {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        
        .issue-code {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            background: var(--bg-tertiary);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            margin: 0.25rem 0;
            overflow-x: auto;
            white-space: pre;
        }
        
        .issue-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        
        .issue-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        
        .action-btn {
            padding: 0.25rem 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 0.25rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: var(--hover-bg);
            border-color: var(--style-color);
        }
        
        .fix-suggestion {
            background: rgba(25, 135, 84, 0.1);
            color: var(--success-color);
            border-color: rgba(25, 135, 84, 0.3);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }
        
        .modal-content {
            background: var(--bg-primary);
            border-radius: 0.5rem;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            max-height: 90%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        
        .modal.show .modal-content {
            transform: scale(1);
        }
        
        .modal-header {
            padding: 1rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.125rem;
            font-weight: 600;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 0;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.25rem;
            transition: all 0.2s;
        }
        
        .modal-close:hover {
            background: var(--hover-bg);
            color: var(--text-primary);
        }
        
        .modal-body {
            padding: 1.5rem;
            overflow-y: auto;
            max-height: 70vh;
        }
        
        .issue-details {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .detail-section {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
        }
        
        .detail-section h4 {
            margin: 0 0 0.75rem 0;
            font-size: 1rem;
            color: var(--text-primary);
        }
        
        .code-context {
            background: var(--bg-tertiary);
            border-radius: 0.5rem;
            overflow: hidden;
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }
        
        .code-line {
            display: flex;
            padding: 0.25rem 0.5rem;
            transition: background 0.2s;
        }
        
        .code-line:hover {
            background: var(--hover-bg);
        }
        
        .code-line.highlighted {
            background: rgba(255, 193, 7, 0.2);
            border-left: 3px solid var(--warning-color);
        }
        
        .line-number {
            color: var(--text-secondary);
            min-width: 3rem;
            text-align: right;
            padding-right: 1rem;
            user-select: none;
        }
        
        .line-content {
            flex: 1;
            white-space: pre;
            overflow-x: auto;
        }
        
        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            padding: 0.75rem;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.2s;
        }
        
        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        /* Toast */
        .toast {
            position: fixed;
            bottom: 4rem;
            right: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            box-shadow: var(--shadow);
            transform: translateX(400px);
            transition: transform 0.3s;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }
        
        .empty-state h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: stretch;
            }
            
            .controls-content {
                flex-direction: column;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .file-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .issue-item {
                flex-direction: column;
            }
            
            .modal-content {
                max-width: 95%;
                max-height: 95%;
            }
        }
        
        /* Code Highlighting */
        .hljs-keyword { color: #d73a49; }
        .hljs-string { color: #032f62; }
        .hljs-comment { color: #6a737d; }
        .hljs-number { color: #005cc5; }
        .hljs-function { color: #6f42c1; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div style="display: flex; align-items: center; gap: 2rem; flex-wrap: wrap; justify-content: space-between; width: 100%;">
                <h1 class="title">
                    <span>🛡️</span>
                    <span>Code Analysis Dashboard</span>
                </h1>
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <a href="../../gallery.html" style="padding: 0.5rem 1rem; background: rgba(255,255,255,0.1); border-radius: 0.5rem; color: var(--text-primary); text-decoration: none; font-size: 0.875rem; transition: all 0.2s;">
                        ← Back to Gallery
                    </a>
                    <a href="../../index.html" style="padding: 0.5rem 1rem; background: rgba(255,255,255,0.1); border-radius: 0.5rem; color: var(--text-primary); text-decoration: none; font-size: 0.875rem; transition: all 0.2s;">
                        🏠 Home
                    </a>
                </div>
            </div>
            <div class="stats-bar" id="statsBar" style="margin-top: 1rem;">
                <div class="stat-badge total" onclick="filterBySeverity('all')">
                    <span>Total</span>
                    <span>84</span>
                </div>
                <div class="stat-badge error" onclick="filterBySeverity('error')">
                    <span>Errors</span>
                    <span>14</span>
                </div>
                <div class="stat-badge warning" onclick="filterBySeverity('warning')">
                    <span>Warnings</span>
                    <span>1</span>
                </div>
                <div class="stat-badge style" onclick="filterBySeverity('style')">
                    <span>Style</span>
                    <span>19</span>
                </div>
                <div class="stat-badge performance" onclick="filterBySeverity('performance')">
                    <span>Performance</span>
                    <span>0</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <div class="controls-content">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" 
                       placeholder="Search issues... (e.g., 'error in .h', 'warning controller', 'override')"
                       onkeyup="handleSearch(event)">
                <span class="search-hint">Press /</span>
            </div>
            <div class="control-buttons">
                <button class="control-btn" onclick="toggleGrouping()">
                    Group by File
                </button>
                <button class="control-btn" onclick="exportData()">
                    Export
                </button>
                <button class="control-btn" onclick="showHelp()">
                    Help
                </button>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        <div class="progress-section">
            <div class="progress-header">
                <span>Progress: <span id="progressText">0 / 84 issues reviewed</span></span>
                <span><span id="fixedCount">0</span> fixed</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
        </div>
        
        <div id="issuesContainer">
            <!-- Issues will be rendered here -->
        </div>
        
        <div class="loading" id="loading">
            Loading issues...
        </div>
        
        <div class="empty-state" id="emptyState" style="display: none;">
            <h2>No issues found</h2>
            <p>Try adjusting your filters or search criteria</p>
        </div>
    </div>
    
    <!-- Modal for code preview -->
    <div class="modal" id="codeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Issue Details</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be inserted here -->
            </div>
        </div>
    </div>
    
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        <span id="themeIcon">🌙</span>
    </button>
    
    <div class="toast" id="toast"></div>
    
    <script>
        // Global state
        const state = {
            issues: [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Terrain.h\" not found.", "file": "src/Terrain.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Terrain.h\"", "is_target": true}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 3, "content": "#include <cmath>", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "#include <iostream>", "is_target": false}]}, "unique_id": "ec28b730"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/Terrain.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 3, "content": "#include <cmath>", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "#include <iostream>", "is_target": false}, {"number": 7, "content": "", "is_target": false}]}, "unique_id": "2bb66a65"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"InputHandler.h\" not found.", "file": "src/InputHandler.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": true}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}]}, "unique_id": "6916b501"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/InputHandler.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}]}, "unique_id": "fec5febc"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/InputHandler.cpp", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}]}, "unique_id": "84e0025c"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/InputHandler.cpp", "line": 6, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}]}, "unique_id": "6aaad679"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/InputHandler.cpp", "line": 7, "code_context": {"lines": [{"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}, {"number": 12, "content": "    : robotController(controller), visualizer(vis)", "is_target": false}]}, "unique_id": "d0976f13"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/Terrain.cpp", "line": 8, "code_context": {"lines": [{"number": 3, "content": "#include <cmath>", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "#include <iostream>", "is_target": false}, {"number": 7, "content": "", "is_target": false}, {"number": 8, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 9, "content": "", "is_target": false}, {"number": 10, "content": "#ifdef USE_OPENGL_FALLBACK", "is_target": false}, {"number": 11, "content": "Terrain::Terrain(PhysicsWorld* physicsWorld, ref_ptr<Group> sceneGraph)", "is_target": false}, {"number": 12, "content": "    : physicsWorld(physicsWorld), sceneGraph(sceneGraph) {", "is_target": false}, {"number": 13, "content": "    ", "is_target": false}]}, "unique_id": "369c207d"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Sensor.h\" not found.", "file": "src/Sensor.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Sensor.h\"", "is_target": true}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 3, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <chrono>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "f9f67a3c"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/Sensor.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 3, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <chrono>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "// Random number generator for sensor noise (kept for backward compatibility)", "is_target": false}]}, "unique_id": "42d904ed"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Sensor.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 3, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <chrono>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "// Random number generator for sensor noise (kept for backward compatibility)", "is_target": false}, {"number": 8, "content": "static std::random_device rd;", "is_target": false}]}, "unique_id": "67b5d6a7"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/Visualizer.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 2, "content": "#include \"VisualizerHexapodConfig.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "#include <sstream>", "is_target": false}]}, "unique_id": "209139cb"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/Visualizer.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 2, "content": "#include \"VisualizerHexapodConfig.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 4, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "#include <sstream>", "is_target": false}, {"number": 7, "content": "#include <iomanip>", "is_target": false}, {"number": 8, "content": "#include <vector>", "is_target": false}]}, "unique_id": "157c4ab1"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Visualizer.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 2, "content": "#include \"VisualizerHexapodConfig.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "#include <sstream>", "is_target": false}, {"number": 7, "content": "#include <iomanip>", "is_target": false}, {"number": 8, "content": "#include <vector>", "is_target": false}, {"number": 9, "content": "", "is_target": false}]}, "unique_id": "806f1d4a"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/Visualizer.cpp", "line": 97, "code_context": {"lines": [{"number": 92, "content": "#include <vsg/nodes/CullGroup.h>", "is_target": false}, {"number": 93, "content": "#include <vsg/nodes/AbsoluteTransform.h>", "is_target": false}, {"number": 94, "content": "#include <vsg/utils/ShaderSet.h>", "is_target": false}, {"number": 95, "content": "#endif", "is_target": false}, {"number": 96, "content": "", "is_target": false}, {"number": 97, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 98, "content": "", "is_target": false}, {"number": 99, "content": "// Internal InputHandler removed - using external InputHandler from main.cpp", "is_target": false}, {"number": 100, "content": "", "is_target": false}, {"number": 101, "content": "Visualizer::Visualizer(uint32_t width, uint32_t height) ", "is_target": false}, {"number": 102, "content": "    : windowWidth(width), windowHeight(height) {", "is_target": false}]}, "unique_id": "145f7823"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'pos' is assigned a value that is never used.", "file": "src/Sensor.cpp", "line": 204, "code_context": {"lines": [{"number": 199, "content": "// Distance Sensor", "is_target": false}, {"number": 200, "content": "void DistanceSensor::update(double deltaTime) {", "is_target": false}, {"number": 201, "content": "    if (!enabled_ || !body_ || !physicsWorld_) return;", "is_target": false}, {"number": 202, "content": "    ", "is_target": false}, {"number": 203, "content": "    // Get sensor position in world coordinates", "is_target": false}, {"number": 204, "content": "    const dReal* pos = dBodyGetPosition(body_);", "is_target": true}, {"number": 205, "content": "    const dReal* rot = dBodyGetRotation(body_);", "is_target": false}, {"number": 206, "content": "    ", "is_target": false}, {"number": 207, "content": "    // Transform local position to world", "is_target": false}, {"number": 208, "content": "    dVector3 worldPos;", "is_target": false}, {"number": 209, "content": "    dBodyGetRelPointPos(body_, localPosition_.x, localPosition_.y, localPosition_.z, worldPos);", "is_target": false}]}, "unique_id": "0eeee66b"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'rot' is assigned a value that is never used.", "file": "src/Sensor.cpp", "line": 205, "code_context": {"lines": [{"number": 200, "content": "void DistanceSensor::update(double deltaTime) {", "is_target": false}, {"number": 201, "content": "    if (!enabled_ || !body_ || !physicsWorld_) return;", "is_target": false}, {"number": 202, "content": "    ", "is_target": false}, {"number": 203, "content": "    // Get sensor position in world coordinates", "is_target": false}, {"number": 204, "content": "    const dReal* pos = dBodyGetPosition(body_);", "is_target": false}, {"number": 205, "content": "    const dReal* rot = dBodyGetRotation(body_);", "is_target": true}, {"number": 206, "content": "    ", "is_target": false}, {"number": 207, "content": "    // Transform local position to world", "is_target": false}, {"number": 208, "content": "    dVector3 worldPos;", "is_target": false}, {"number": 209, "content": "    dBodyGetRelPointPos(body_, localPosition_.x, localPosition_.y, localPosition_.z, worldPos);", "is_target": false}, {"number": 210, "content": "    ", "is_target": false}]}, "unique_id": "60bd634b"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/NoiseManager.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 2, "content": "#include <algorithm>", "is_target": false}, {"number": 3, "content": "#include <ctime>", "is_target": false}, {"number": 4, "content": "#include <iostream>", "is_target": false}, {"number": 5, "content": "#include <cmath>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "2e3a1fca"}, {"id": "syntaxError", "severity": "error", "message": "Code 'namespaceHexapodVisualConfig{' is invalid C code. Use --std or --language to configure the language.", "file": "src/VisualizerHexapodConfig.h", "line": 7, "code_context": {"lines": [{"number": 2, "content": "// Natural hexapod stance parameters", "is_target": false}, {"number": 3, "content": "", "is_target": false}, {"number": 4, "content": "#ifndef VISUALIZER_HEXAPOD_CONFIG_H", "is_target": false}, {"number": 5, "content": "#define VISUALIZER_HEXAPOD_CONFIG_H", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "namespace HexapodVisualConfig {", "is_target": true}, {"number": 8, "content": "    // Leg spread configuration", "is_target": false}, {"number": 9, "content": "    const double COXA_SPREAD_ANGLE = 70.0;     // degrees - wide spread for stability", "is_target": false}, {"number": 10, "content": "    const double COXA_ELEVATION = 5.0;         // degrees - slight upward angle", "is_target": false}, {"number": 11, "content": "    ", "is_target": false}, {"number": 12, "content": "    // Segment angles for natural stance", "is_target": false}]}, "unique_id": "94bc6e27"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Robot.h\" not found.", "file": "src/main.cpp", "line": 11, "code_context": {"lines": [{"number": 6, "content": "#include <atomic>", "is_target": false}, {"number": 7, "content": "#include <unistd.h>", "is_target": false}, {"number": 8, "content": "#include <sstream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": true}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}]}, "unique_id": "3a3575c8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/main.cpp", "line": 12, "code_context": {"lines": [{"number": 7, "content": "#include <unistd.h>", "is_target": false}, {"number": 8, "content": "#include <sstream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}]}, "unique_id": "b8ab75d3"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/main.cpp", "line": 13, "code_context": {"lines": [{"number": 8, "content": "#include <sstream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}]}, "unique_id": "5218d13f"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Terrain.h\" not found.", "file": "src/main.cpp", "line": 14, "code_context": {"lines": [{"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": true}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}]}, "unique_id": "4dc4ad5d"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/main.cpp", "line": 15, "code_context": {"lines": [{"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}]}, "unique_id": "40e93e99"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"InputHandler.h\" not found.", "file": "src/main.cpp", "line": 16, "code_context": {"lines": [{"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": true}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "#ifndef USE_OPENGL_FALLBACK", "is_target": false}]}, "unique_id": "a8e1fd48"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/main.cpp", "line": 17, "code_context": {"lines": [{"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "#ifndef USE_OPENGL_FALLBACK", "is_target": false}, {"number": 22, "content": "#include <vsg/all.h>", "is_target": false}]}, "unique_id": "0c85c0f8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/main.cpp", "line": 18, "code_context": {"lines": [{"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "#ifndef USE_OPENGL_FALLBACK", "is_target": false}, {"number": 22, "content": "#include <vsg/all.h>", "is_target": false}, {"number": 23, "content": "#include <vsgXchange/all.h>", "is_target": false}]}, "unique_id": "86a69373"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/main.cpp", "line": 27, "code_context": {"lines": [{"number": 22, "content": "#include <vsg/all.h>", "is_target": false}, {"number": 23, "content": "#include <vsgXchange/all.h>", "is_target": false}, {"number": 24, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 25, "content": "#endif", "is_target": false}, {"number": 26, "content": "", "is_target": false}, {"number": 27, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 28, "content": "", "is_target": false}, {"number": 29, "content": "// Global flag for graceful shutdown", "is_target": false}, {"number": 30, "content": "std::atomic<bool> g_shouldExit{false};", "is_target": false}, {"number": 31, "content": "", "is_target": false}, {"number": 32, "content": "void signalHandler(int signal) {", "is_target": false}]}, "unique_id": "512a4b93"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Robot.h\" not found.", "file": "src/Robot.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": true}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}]}, "unique_id": "8f1d7870"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/Robot.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}]}, "unique_id": "c88824da"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Sensor.h\" not found.", "file": "src/Robot.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": true}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}]}, "unique_id": "b9e3d541"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Actuator.h\" not found.", "file": "src/Robot.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": true}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}]}, "unique_id": "6f8bafe8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/Robot.cpp", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <cmath>", "is_target": false}]}, "unique_id": "bd625cac"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Robot.cpp", "line": 6, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <cmath>", "is_target": false}, {"number": 11, "content": "#include <iomanip>", "is_target": false}]}, "unique_id": "d951de5d"}, {"id": "variableScope", "severity": "style", "message": "The scope of the variable 'debugFrameCount' can be reduced.", "file": "src/Visualizer.cpp", "line": 351, "code_context": {"lines": [{"number": 346, "content": "        }", "is_target": false}, {"number": 347, "content": "    }", "is_target": false}, {"number": 348, "content": "#endif", "is_target": false}, {"number": 349, "content": "    ", "is_target": false}, {"number": 350, "content": "    // Frame", "is_target": false}, {"number": 351, "content": "    static int debugFrameCount = 0;", "is_target": true}, {"number": 352, "content": "    static auto lastDebugTime = std::chrono::high_resolution_clock::now();", "is_target": false}, {"number": 353, "content": "    ", "is_target": false}, {"number": 354, "content": "    auto beforeAdvance = std::chrono::high_resolution_clock::now();", "is_target": false}, {"number": 355, "content": "    bool advanced = viewer->advanceToNextFrame();", "is_target": false}, {"number": 356, "content": "    auto afterAdvance = std::chrono::high_resolution_clock::now();", "is_target": false}]}, "unique_id": "80599033"}, {"id": "constVariableReference", "severity": "style", "message": "Variable 'child' can be declared as reference to const", "file": "src/Visualizer.cpp", "line": 1453, "code_context": {"lines": [{"number": 1448, "content": "    std::cout << \"  Expected initial physics Z: \" << bodyZ << std::endl;", "is_target": false}, {"number": 1449, "content": "    std::cout << \"  Scene children: \" << scene->children.size() << std::endl;", "is_target": false}, {"number": 1450, "content": "    ", "is_target": false}, {"number": 1451, "content": "    // Verify the robot is actually in the scene", "is_target": false}, {"number": 1452, "content": "    bool foundRobot = false;", "is_target": false}, {"number": 1453, "content": "    for (auto& child : scene->children) {", "is_target": true}, {"number": 1454, "content": "        if (child == robotTransform) {", "is_target": false}, {"number": 1455, "content": "            foundRobot = true;", "is_target": false}, {"number": 1456, "content": "            std::cout << \"  \u2713 Robot transform found in scene!\" << std::endl;", "is_target": false}, {"number": 1457, "content": "            break;", "is_target": false}, {"number": 1458, "content": "        }", "is_target": false}]}, "unique_id": "4933317b"}, {"id": "useStlAlgorithm", "severity": "style", "message": "Consider using std::any_of algorithm instead of a raw loop.", "file": "src/Visualizer.cpp", "line": 1454, "code_context": {"lines": [{"number": 1449, "content": "    std::cout << \"  Scene children: \" << scene->children.size() << std::endl;", "is_target": false}, {"number": 1450, "content": "    ", "is_target": false}, {"number": 1451, "content": "    // Verify the robot is actually in the scene", "is_target": false}, {"number": 1452, "content": "    bool foundRobot = false;", "is_target": false}, {"number": 1453, "content": "    for (auto& child : scene->children) {", "is_target": false}, {"number": 1454, "content": "        if (child == robotTransform) {", "is_target": true}, {"number": 1455, "content": "            foundRobot = true;", "is_target": false}, {"number": 1456, "content": "            std::cout << \"  \u2713 Robot transform found in scene!\" << std::endl;", "is_target": false}, {"number": 1457, "content": "            break;", "is_target": false}, {"number": 1458, "content": "        }", "is_target": false}, {"number": 1459, "content": "    }", "is_target": false}]}, "unique_id": "9b19a7a0"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'totalLegLength' is assigned a value that is never used.", "file": "src/Visualizer.cpp", "line": 1140, "code_context": {"lines": [{"number": 1135, "content": "    ", "is_target": false}, {"number": 1136, "content": "    // Calculate initial Z position to match Robot.cpp physics initialization", "is_target": false}, {"number": 1137, "content": "    const double coxaLength = 0.25;", "is_target": false}, {"number": 1138, "content": "    const double femurLength = 0.35;", "is_target": false}, {"number": 1139, "content": "    const double tibiaLength = 0.4;", "is_target": false}, {"number": 1140, "content": "    const double totalLegLength = coxaLength + femurLength + tibiaLength;", "is_target": true}, {"number": 1141, "content": "    // Match physics initial position - body at 1.0 for safe settling", "is_target": false}, {"number": 1142, "content": "    const double bodyZ = 1.0;  // Matches Robot::createBody() initZ", "is_target": false}, {"number": 1143, "content": "    ", "is_target": false}, {"number": 1144, "content": "    // Create robot transform that will be updated with physics position", "is_target": false}, {"number": 1145, "content": "    robotTransform = vsg::MatrixTransform::create();", "is_target": false}]}, "unique_id": "668490a4"}, {"id": "shadowVariable", "severity": "style", "message": "Local variable 'frameCount' shadows outer variable", "file": "src/main.cpp", "line": 418, "code_context": {"lines": [{"number": 413, "content": "            // }", "is_target": false}, {"number": 414, "content": "        }", "is_target": false}, {"number": 415, "content": "    }", "is_target": false}, {"number": 416, "content": "", "is_target": false}, {"number": 417, "content": "    void displayStats() {", "is_target": false}, {"number": 418, "content": "        static int frameCount = 0;", "is_target": true}, {"number": 419, "content": "        frameCount++;", "is_target": false}, {"number": 420, "content": "        ", "is_target": false}, {"number": 421, "content": "        // Get robot info", "is_target": false}, {"number": 422, "content": "        vsg_vec3 pos = robot->getPosition();", "is_target": false}, {"number": 423, "content": "        vsg_vec3 vel = robot->getVelocity();", "is_target": false}]}, "unique_id": "493995ca"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/PhysicsWorld.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "#include <sstream>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "44d942a7"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/PhysicsWorld.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "#include <sstream>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "PhysicsWorld::PhysicsWorld() {", "is_target": false}]}, "unique_id": "00baff7c"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/DebugOutput.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "namespace Debug {", "is_target": false}, {"number": 4, "content": "    // Initialize with INFO level by default - shows important messages only", "is_target": false}, {"number": 5, "content": "    Level currentLevel = INFO;", "is_target": false}, {"number": 6, "content": "}", "is_target": false}]}, "unique_id": "263b816f"}, {"id": "constVariableReference", "severity": "style", "message": "Variable 'contactSensor' can be declared as reference to const", "file": "src/Robot.cpp", "line": 940, "code_context": {"lines": [{"number": 935, "content": "    DEBUG_INFO(\"Created \" + std::to_string(sensors.size()) + \" sensors for robot\");", "is_target": false}, {"number": 936, "content": "}", "is_target": false}, {"number": 937, "content": "", "is_target": false}, {"number": 938, "content": "void Robot::setPhysicsWorld(PhysicsWorld* world) {", "is_target": false}, {"number": 939, "content": "    // Set physics world for contact sensors", "is_target": false}, {"number": 940, "content": "    for (auto& contactSensor : footContactSensors) {", "is_target": true}, {"number": 941, "content": "        if (auto* sensor = dynamic_cast<ContactSensor*>(contactSensor)) {", "is_target": false}, {"number": 942, "content": "            sensor->setPhysicsWorld(world);", "is_target": false}, {"number": 943, "content": "        }", "is_target": false}, {"number": 944, "content": "    }", "is_target": false}, {"number": 945, "content": "}", "is_target": false}]}, "unique_id": "2ce8e1ae"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'legPair' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 166, "code_context": {"lines": [{"number": 161, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 162, "content": "        std::cout << \"  Leg \" << i << \" attaching at world (\" << attachX << \", \" << attachY << \", \" << attachZ << \")\" << std::endl;", "is_target": false}, {"number": 163, "content": "#endif", "is_target": false}, {"number": 164, "content": "        ", "is_target": false}, {"number": 165, "content": "        // Determine leg side for proper angles", "is_target": false}, {"number": 166, "content": "        int legPair = i / 2;  // 0, 1, 2 for front, middle, rear", "is_target": true}, {"number": 167, "content": "        int side = (i % 2 == 0) ? -1 : 1;  // left (-1), right (+1)", "is_target": false}, {"number": 168, "content": "        ", "is_target": false}, {"number": 169, "content": "        // Adjusted angles for proper standing height", "is_target": false}, {"number": 170, "content": "        const double maxAngle = M_PI / 2.0; // 90 degrees", "is_target": false}, {"number": 171, "content": "        const double coxaAngle = side * (30.0 * M_PI / 180.0);  // 30\u00b0 outward - more vertical", "is_target": false}]}, "unique_id": "51985efa"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'footEndX' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 309, "code_context": {"lines": [{"number": 304, "content": "        double tibiaMidX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 305, "content": "        double tibiaMidY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 306, "content": "        double tibiaMidZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 307, "content": "        ", "is_target": false}, {"number": 308, "content": "        // Calculate foot end position for ground contact validation", "is_target": false}, {"number": 309, "content": "        double footEndX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": true}, {"number": 310, "content": "        double footEndY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 311, "content": "        double footEndZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 312, "content": "        ", "is_target": false}, {"number": 313, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 314, "content": "        std::cout << \"  Leg \" << i << \" foot position: (\" << footEndX << \", \" << footEndY << \", \" << footEndZ << \")\" << std::endl;", "is_target": false}]}, "unique_id": "89ae19d5"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'footEndY' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 310, "code_context": {"lines": [{"number": 305, "content": "        double tibiaMidY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 306, "content": "        double tibiaMidZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 307, "content": "        ", "is_target": false}, {"number": 308, "content": "        // Calculate foot end position for ground contact validation", "is_target": false}, {"number": 309, "content": "        double footEndX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 310, "content": "        double footEndY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": true}, {"number": 311, "content": "        double footEndZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 312, "content": "        ", "is_target": false}, {"number": 313, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 314, "content": "        std::cout << \"  Leg \" << i << \" foot position: (\" << footEndX << \", \" << footEndY << \", \" << footEndZ << \")\" << std::endl;", "is_target": false}, {"number": 315, "content": "        if (footEndZ > 0.1f) {", "is_target": false}]}, "unique_id": "6efacdc4"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'footEndZ' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 311, "code_context": {"lines": [{"number": 306, "content": "        double tibiaMidZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 307, "content": "        ", "is_target": false}, {"number": 308, "content": "        // Calculate foot end position for ground contact validation", "is_target": false}, {"number": 309, "content": "        double footEndX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 310, "content": "        double footEndY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 311, "content": "        double footEndZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength;", "is_target": true}, {"number": 312, "content": "        ", "is_target": false}, {"number": 313, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 314, "content": "        std::cout << \"  Leg \" << i << \" foot position: (\" << footEndX << \", \" << footEndY << \", \" << footEndZ << \")\" << std::endl;", "is_target": false}, {"number": 315, "content": "        if (footEndZ > 0.1f) {", "is_target": false}, {"number": 316, "content": "            std::cout << \"\u26a0\ufe0f  Warning: Leg \" << i << \" foot end (\" << footEndZ << \") may not reach ground\" << std::endl;", "is_target": false}]}, "unique_id": "6241d4c1"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Actuator.h\" not found.", "file": "src/Actuator.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Actuator.h\"", "is_target": true}, {"number": 2, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 3, "content": "#include <algorithm>", "is_target": false}, {"number": 4, "content": "#include <cmath>", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "b7bb6bc9"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Actuator.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 2, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 3, "content": "#include <algorithm>", "is_target": false}, {"number": 4, "content": "#include <cmath>", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "// Position Motor", "is_target": false}]}, "unique_id": "ac870251"}, {"id": "variableScope", "severity": "style", "message": "The scope of the variable 'updateCounter' can be reduced.", "file": "src/Actuator.cpp", "line": 96, "code_context": {"lines": [{"number": 91, "content": "", "is_target": false}, {"number": 92, "content": "void VelocityMotor::update(double deltaTime) {", "is_target": false}, {"number": 93, "content": "    if (!enabled_ || !joint_) return;", "is_target": false}, {"number": 94, "content": "    ", "is_target": false}, {"number": 95, "content": "    // Update noise manager for tracking time", "is_target": false}, {"number": 96, "content": "    static int updateCounter = 0;", "is_target": true}, {"number": 97, "content": "    static bool debugPrinted = false;", "is_target": false}, {"number": 98, "content": "    ", "is_target": false}, {"number": 99, "content": "    // Check joint type and apply appropriate control", "is_target": false}, {"number": 100, "content": "    dJointType type = dJointGetType(joint_);", "is_target": false}, {"number": 101, "content": "    ", "is_target": false}]}, "unique_id": "191a0f6a"}, {"id": "variableScope", "severity": "style", "message": "The scope of the variable 'debugPrinted' can be reduced.", "file": "src/Actuator.cpp", "line": 97, "code_context": {"lines": [{"number": 92, "content": "void VelocityMotor::update(double deltaTime) {", "is_target": false}, {"number": 93, "content": "    if (!enabled_ || !joint_) return;", "is_target": false}, {"number": 94, "content": "    ", "is_target": false}, {"number": 95, "content": "    // Update noise manager for tracking time", "is_target": false}, {"number": 96, "content": "    static int updateCounter = 0;", "is_target": false}, {"number": 97, "content": "    static bool debugPrinted = false;", "is_target": true}, {"number": 98, "content": "    ", "is_target": false}, {"number": 99, "content": "    // Check joint type and apply appropriate control", "is_target": false}, {"number": 100, "content": "    dJointType type = dJointGetType(joint_);", "is_target": false}, {"number": 101, "content": "    ", "is_target": false}, {"number": 102, "content": "    switch (type) {", "is_target": false}]}, "unique_id": "f16762ef"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'currentVel' is assigned a value that is never used.", "file": "src/Actuator.cpp", "line": 240, "code_context": {"lines": [{"number": 235, "content": "void LinearMotor::update(double deltaTime) {", "is_target": false}, {"number": 236, "content": "    if (!enabled_ || !joint_) return;", "is_target": false}, {"number": 237, "content": "    ", "is_target": false}, {"number": 238, "content": "    // Get current position", "is_target": false}, {"number": 239, "content": "    float currentPos = dJointGetSliderPosition(joint_);", "is_target": false}, {"number": 240, "content": "    float currentVel = dJointGetSliderPositionRate(joint_);", "is_target": true}, {"number": 241, "content": "    ", "is_target": false}, {"number": 242, "content": "    // Simple P control for target position", "is_target": false}, {"number": 243, "content": "    float posError = currentCommand_.targetValue - currentPos;", "is_target": false}, {"number": 244, "content": "    float targetVel = 10.0f * posError; // P gain", "is_target": false}, {"number": 245, "content": "    ", "is_target": false}]}, "unique_id": "4fe34949"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/RobotController.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}]}, "unique_id": "905398e7"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Robot.h\" not found.", "file": "src/RobotController.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": true}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}]}, "unique_id": "a02ad422"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/RobotController.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}]}, "unique_id": "532a9df8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Sensor.h\" not found.", "file": "src/RobotController.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": true}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}]}, "unique_id": "72aace15"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/RobotController.cpp", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <iomanip>", "is_target": false}]}, "unique_id": "512670f1"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/RobotController.cpp", "line": 12, "code_context": {"lines": [{"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <iomanip>", "is_target": false}, {"number": 11, "content": "#include <fstream>", "is_target": false}, {"number": 12, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 13, "content": "", "is_target": false}, {"number": 14, "content": "RobotController::RobotController(Robot* robot, PhysicsWorld* physicsWorld)", "is_target": false}, {"number": 15, "content": "    : robot(robot)", "is_target": false}, {"number": 16, "content": "    , physicsWorld(physicsWorld)", "is_target": false}, {"number": 17, "content": "    , controlMode(MANUAL)", "is_target": false}]}, "unique_id": "5afc1a63"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"InputHandler.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": true}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "2eb2f440"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}]}, "unique_id": "5fc93857"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}, {"number": 8, "content": "    : robotController(controller), visualizer(vis)", "is_target": false}]}, "unique_id": "ffc0714d"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}, {"number": 8, "content": "    : robotController(controller), visualizer(vis)", "is_target": false}, {"number": 9, "content": "{", "is_target": false}]}, "unique_id": "4c5f3a4a"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classTestEventHandler:' is invalid C code. Use --std or --language to configure the language.", "file": "include/TestEventHandler.h", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#pragma once", "is_target": false}, {"number": 2, "content": "#include <vsg/all.h>", "is_target": false}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "", "is_target": false}, {"number": 5, "content": "class TestEventHandler : public vsg::Inherit<vsg::Visitor, TestEventHandler>", "is_target": true}, {"number": 6, "content": "{", "is_target": false}, {"number": 7, "content": "public:", "is_target": false}, {"number": 8, "content": "    TestEventHandler() {", "is_target": false}, {"number": 9, "content": "        std::cout << \"[TestEventHandler] Created\" << std::endl;", "is_target": false}, {"number": 10, "content": "    }", "is_target": false}]}, "unique_id": "8fe33f87"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"noisegenerator.h\" not found.", "file": "include/NoiseManager.h", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#pragma once", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#include \"noisegenerator.h\"", "is_target": true}, {"number": 4, "content": "#include <memory>", "is_target": false}, {"number": 5, "content": "#include <vector>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "class NoiseManager {", "is_target": false}, {"number": 8, "content": "public:", "is_target": false}]}, "unique_id": "c3fdb4be"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classNoiseManager{' is invalid C code. Use --std or --language to configure the language.", "file": "include/NoiseManager.h", "line": 7, "code_context": {"lines": [{"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#include \"noisegenerator.h\"", "is_target": false}, {"number": 4, "content": "#include <memory>", "is_target": false}, {"number": 5, "content": "#include <vector>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "class NoiseManager {", "is_target": true}, {"number": 8, "content": "public:", "is_target": false}, {"number": 9, "content": "    // Singleton pattern", "is_target": false}, {"number": 10, "content": "    static NoiseManager& getInstance() {", "is_target": false}, {"number": 11, "content": "        static NoiseManager instance;", "is_target": false}, {"number": 12, "content": "        return instance;", "is_target": false}]}, "unique_id": "8333c168"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classComprehensiveEventDebugger:' is invalid C code. Use --std or --language to configure the language.", "file": "include/ComprehensiveEventDebugger.h", "line": 12, "code_context": {"lines": [{"number": 7, "content": "#include <map>", "is_target": false}, {"number": 8, "content": "#include <string>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "// Comprehensive event debugger that captures and analyzes all VSG events", "is_target": false}, {"number": 12, "content": "class ComprehensiveEventDebugger : public vsg::Inherit<vsg::Visitor, ComprehensiveEventDebugger>", "is_target": true}, {"number": 13, "content": "{", "is_target": false}, {"number": 14, "content": "public:", "is_target": false}, {"number": 15, "content": "    ComprehensiveEventDebugger() : ", "is_target": false}, {"number": 16, "content": "        start_time(std::chrono::high_resolution_clock::now()),", "is_target": false}, {"number": 17, "content": "        event_count(0) {", "is_target": false}]}, "unique_id": "acc7ea15"}, {"id": "syntaxError", "severity": "error", "message": "Code 'template<...' is invalid C code. Use --std or --language to configure the language.", "file": "include/FallbackTypes.h", "line": 69, "code_context": {"lines": [{"number": 64, "content": "    }", "is_target": false}, {"number": 65, "content": "};", "is_target": false}, {"number": 66, "content": "", "is_target": false}, {"number": 67, "content": "// Minimal smart-pointer-like helper to keep existing fallback code compiling.", "is_target": false}, {"number": 68, "content": "// It does NOT manage ownership \u2013 it is only meant for compile-time compatibility.", "is_target": false}, {"number": 69, "content": "template<typename T>", "is_target": true}, {"number": 70, "content": "struct ref_ptr {", "is_target": false}, {"number": 71, "content": "    T* ptr = nullptr;", "is_target": false}, {"number": 72, "content": "    ref_ptr() = default;", "is_target": false}, {"number": 73, "content": "    ref_ptr(std::nullptr_t) : ptr(nullptr) {}  // Allow nullptr initialization", "is_target": false}, {"number": 74, "content": "    explicit ref_ptr(T* p) : ptr(p) {}", "is_target": false}]}, "unique_id": "f98041ee"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classSensor{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Sensor.h", "line": 27, "code_context": {"lines": [{"number": 22, "content": "", "is_target": false}, {"number": 23, "content": "class PhysicsWorld;", "is_target": false}, {"number": 24, "content": "class Robot;", "is_target": false}, {"number": 25, "content": "", "is_target": false}, {"number": 26, "content": "// Base sensor interface", "is_target": false}, {"number": 27, "content": "class Sensor {", "is_target": true}, {"number": 28, "content": "public:", "is_target": false}, {"number": 29, "content": "    enum Type {", "is_target": false}, {"number": 30, "content": "        JOINT_POSITION,", "is_target": false}, {"number": 31, "content": "        JOINT_VELOCITY,", "is_target": false}, {"number": 32, "content": "        JOINT_TORQUE,", "is_target": false}]}, "unique_id": "65da4cc9"}, {"id": "syntaxError", "severity": "error", "message": "Code 'namespaceDebug{' is invalid C code. Use --std or --language to configure the language.", "file": "include/DebugOutput.h", "line": 7, "code_context": {"lines": [{"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "#include <string>", "is_target": false}, {"number": 5, "content": "", "is_target": false}, {"number": 6, "content": "// Debug output control", "is_target": false}, {"number": 7, "content": "namespace Debug {", "is_target": true}, {"number": 8, "content": "    enum Level {", "is_target": false}, {"number": 9, "content": "        NONE = 0,", "is_target": false}, {"number": 10, "content": "        ERROR = 1,", "is_target": false}, {"number": 11, "content": "        WARNING = 2,", "is_target": false}, {"number": 12, "content": "        INFO = 3,", "is_target": false}]}, "unique_id": "b618e461"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classVisualizer{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Visualizer.h", "line": 34, "code_context": {"lines": [{"number": 29, "content": "", "is_target": false}, {"number": 30, "content": "#include <memory>", "is_target": false}, {"number": 31, "content": "#include <map>", "is_target": false}, {"number": 32, "content": "#include <string>", "is_target": false}, {"number": 33, "content": "", "is_target": false}, {"number": 34, "content": "class Visualizer {", "is_target": true}, {"number": 35, "content": "public:", "is_target": false}, {"number": 36, "content": "    struct Light {", "is_target": false}, {"number": 37, "content": "        vsg_vec3 position;", "is_target": false}, {"number": 38, "content": "        vsg_vec3 color;", "is_target": false}, {"number": 39, "content": "        float intensity;", "is_target": false}]}, "unique_id": "622fb09e"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classTerrain{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Terrain.h", "line": 23, "code_context": {"lines": [{"number": 18, "content": "#include <vector>", "is_target": false}, {"number": 19, "content": "#include <memory>", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "class PhysicsWorld;", "is_target": false}, {"number": 22, "content": "", "is_target": false}, {"number": 23, "content": "class Terrain {", "is_target": true}, {"number": 24, "content": "public:", "is_target": false}, {"number": 25, "content": "    enum TerrainType {", "is_target": false}, {"number": 26, "content": "        FLAT,", "is_target": false}, {"number": 27, "content": "        HILLS,", "is_target": false}, {"number": 28, "content": "        MOUNTAINS,", "is_target": false}]}, "unique_id": "faae0be0"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classRobot{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Robot.h", "line": 34, "code_context": {"lines": [{"number": 29, "content": "class JointVelocitySensor;", "is_target": false}, {"number": 30, "content": "class PositionMotor;", "is_target": false}, {"number": 31, "content": "class VelocityMotor;", "is_target": false}, {"number": 32, "content": "class PhysicsWorld;", "is_target": false}, {"number": 33, "content": "", "is_target": false}, {"number": 34, "content": "class Robot {", "is_target": true}, {"number": 35, "content": "public:", "is_target": false}, {"number": 36, "content": "    // Leg segment indices for clear identification and reduced indexing errors", "is_target": false}, {"number": 37, "content": "    enum class LegSegmentIndex : int {", "is_target": false}, {"number": 38, "content": "        COXA = 0,   // Hip segment - connects to body via ball joint", "is_target": false}, {"number": 39, "content": "        FEMUR = 1,  // Thigh segment - connects to coxa via hinge joint", "is_target": false}]}, "unique_id": "f27bc6fb"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classInputHandler:' is invalid C code. Use --std or --language to configure the language.", "file": "include/InputHandler.h", "line": 13, "code_context": {"lines": [{"number": 8, "content": "#include <chrono>", "is_target": false}, {"number": 9, "content": "", "is_target": false}, {"number": 10, "content": "class RobotController;", "is_target": false}, {"number": 11, "content": "class Visualizer;", "is_target": false}, {"number": 12, "content": "", "is_target": false}, {"number": 13, "content": "class InputHandler : public vsg::Inherit<vsg::Visitor, InputHandler>", "is_target": true}, {"number": 14, "content": "{", "is_target": false}, {"number": 15, "content": "public:", "is_target": false}, {"number": 16, "content": "    InputHandler(RobotController* controller, Visualizer* vis);", "is_target": false}, {"number": 17, "content": "", "is_target": false}, {"number": 18, "content": "    // Event handling", "is_target": false}]}, "unique_id": "a958e1a8"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classPhysicsWorld{' is invalid C code. Use --std or --language to configure the language.", "file": "include/PhysicsWorld.h", "line": 20, "code_context": {"lines": [{"number": 15, "content": "#endif", "is_target": false}, {"number": 16, "content": "", "is_target": false}, {"number": 17, "content": "#include <vector>", "is_target": false}, {"number": 18, "content": "#include <memory>", "is_target": false}, {"number": 19, "content": "", "is_target": false}, {"number": 20, "content": "class PhysicsWorld {", "is_target": true}, {"number": 21, "content": "public:", "is_target": false}, {"number": 22, "content": "    struct ContactPoint {", "is_target": false}, {"number": 23, "content": "        vsg_vec3 position;", "is_target": false}, {"number": 24, "content": "        vsg_vec3 normal;", "is_target": false}, {"number": 25, "content": "        float depth;", "is_target": false}]}, "unique_id": "5cfe7fb8"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classActuator{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Actuator.h", "line": 24, "code_context": {"lines": [{"number": 19, "content": "using vsg_vec4 = vsg::vec4;", "is_target": false}, {"number": 20, "content": "using vsg_quat = vsg::quat;", "is_target": false}, {"number": 21, "content": "#endif", "is_target": false}, {"number": 22, "content": "", "is_target": false}, {"number": 23, "content": "// Base actuator interface", "is_target": false}, {"number": 24, "content": "class Actuator {", "is_target": true}, {"number": 25, "content": "public:", "is_target": false}, {"number": 26, "content": "    enum Type {", "is_target": false}, {"number": 27, "content": "        POSITION_MOTOR,", "is_target": false}, {"number": 28, "content": "        VELOCITY_MOTOR,", "is_target": false}, {"number": 29, "content": "        TORQUE_MOTOR,", "is_target": false}]}, "unique_id": "c37aa5e3"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classNoiseGenerator{' is invalid C code. Use --std or --language to configure the language.", "file": "noise/noisegenerator.h", "line": 14, "code_context": {"lines": [{"number": 9, "content": "#include \"randomgenerator.h\"", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "/** Interface and basic class for noise generator.", "is_target": false}, {"number": 12, "content": "    It is suitable for single noise channels but also multidimensional noise.", "is_target": false}, {"number": 13, "content": " */", "is_target": false}, {"number": 14, "content": "class NoiseGenerator{", "is_target": true}, {"number": 15, "content": "public:", "is_target": false}, {"number": 16, "content": "  NoiseGenerator()", "is_target": false}, {"number": 17, "content": "  {", "is_target": false}, {"number": 18, "content": "    dimension   = 0;", "is_target": false}, {"number": 19, "content": "    randGen     = 0;", "is_target": false}]}, "unique_id": "cb747bf7"}, {"id": "identicalInnerCondition", "severity": "warning", "message": "Identical inner 'if' condition is always true.", "file": "src/RobotController.cpp", "line": 556, "code_context": {"lines": [{"number": 551, "content": "    ", "is_target": false}, {"number": 552, "content": "    // Simple obstacle detection based on proximity sensors", "is_target": false}, {"number": 553, "content": "    if (sensorReadings.size() >= 6) {", "is_target": false}, {"number": 554, "content": "        for (size_t i = 0; i < 6; ++i) {", "is_target": false}, {"number": 555, "content": "            if (sensorReadings[i] < 2.0f) { // Obstacle detected within 2 units", "is_target": false}, {"number": 556, "content": "                if (sensorReadings[i] < 2.0f) {", "is_target": true}, {"number": 557, "content": "                    if (sensorReadings[i] < obstacleDistance) {", "is_target": false}, {"number": 558, "content": "                        float angle = i * M_PI / 3.0f;", "is_target": false}, {"number": 559, "content": "                        obstacleDirection = makePosition(std::cos(angle), 0.0f, std::sin(angle));", "is_target": false}, {"number": 560, "content": "                        obstacleDistance = sensorReadings[i];", "is_target": false}, {"number": 561, "content": "                    }", "is_target": false}]}, "unique_id": "a905dc7e"}, {"id": "invalidPointerCast", "severity": "portability", "message": "Casting from float * to signed char * is not portable due to different binary data representations on different platforms.", "file": "src/RobotController.cpp", "line": 624, "code_context": {"lines": [{"number": 619, "content": "        for (size_t i = 0; i < dataSize; ++i) {", "is_target": false}, {"number": 620, "content": "            size_t sensorSize, actionSize;", "is_target": false}, {"number": 621, "content": "            ", "is_target": false}, {"number": 622, "content": "            file.read(reinterpret_cast<char*>(&sensorSize), sizeof(sensorSize));", "is_target": false}, {"number": 623, "content": "            std::vector<float> sensors(sensorSize);", "is_target": false}, {"number": 624, "content": "            file.read(reinterpret_cast<char*>(sensors.data()), sensorSize * sizeof(float));", "is_target": true}, {"number": 625, "content": "            ", "is_target": false}, {"number": 626, "content": "            file.read(reinterpret_cast<char*>(&actionSize), sizeof(actionSize));", "is_target": false}, {"number": 627, "content": "            std::vector<float> actions(actionSize);", "is_target": false}, {"number": 628, "content": "            file.read(reinterpret_cast<char*>(actions.data()), actionSize * sizeof(float));", "is_target": false}, {"number": 629, "content": "            ", "is_target": false}]}, "unique_id": "cf55a6a3"}, {"id": "invalidPointerCast", "severity": "portability", "message": "Casting from float * to signed char * is not portable due to different binary data representations on different platforms.", "file": "src/RobotController.cpp", "line": 628, "code_context": {"lines": [{"number": 623, "content": "            std::vector<float> sensors(sensorSize);", "is_target": false}, {"number": 624, "content": "            file.read(reinterpret_cast<char*>(sensors.data()), sensorSize * sizeof(float));", "is_target": false}, {"number": 625, "content": "            ", "is_target": false}, {"number": 626, "content": "            file.read(reinterpret_cast<char*>(&actionSize), sizeof(actionSize));", "is_target": false}, {"number": 627, "content": "            std::vector<float> actions(actionSize);", "is_target": false}, {"number": 628, "content": "            file.read(reinterpret_cast<char*>(actions.data()), actionSize * sizeof(float));", "is_target": true}, {"number": 629, "content": "            ", "is_target": false}, {"number": 630, "content": "            trainingData.push_back({sensors, actions});", "is_target": false}, {"number": 631, "content": "        }", "is_target": false}, {"number": 632, "content": "        ", "is_target": false}, {"number": 633, "content": "        file.close();", "is_target": false}]}, "unique_id": "73bef561"}, {"id": "constVariableReference", "severity": "style", "message": "Variable 'pattern' can be declared as reference to const", "file": "src/RobotController.cpp", "line": 288, "code_context": {"lines": [{"number": 283, "content": "}", "is_target": false}, {"number": 284, "content": "", "is_target": false}, {"number": 285, "content": "void RobotController::updateDemonstrationControl(double deltaTime) {", "is_target": false}, {"number": 286, "content": "    // Execute recorded pattern", "is_target": false}, {"number": 287, "content": "    if (!currentRecordingName.empty() && savedPatterns.count(currentRecordingName)) {", "is_target": false}, {"number": 288, "content": "        auto& pattern = savedPatterns[currentRecordingName];", "is_target": true}, {"number": 289, "content": "        ", "is_target": false}, {"number": 290, "content": "        // Find appropriate command based on time", "is_target": false}, {"number": 291, "content": "        double patternTime = 0.0;", "is_target": false}, {"number": 292, "content": "        for (const auto& [time, input] : pattern) {", "is_target": false}, {"number": 293, "content": "            if (time <= patternTime) {", "is_target": false}]}, "unique_id": "82875ccc"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'stableContactCount' is assigned a value that is never used.", "file": "src/RobotController.cpp", "line": 103, "code_context": {"lines": [{"number": 98, "content": "                         (noiseLevel > 0.0f && debugLogCounter % 30 == 0); // Every 0.5s with noise", "is_target": false}, {"number": 99, "content": "    ", "is_target": false}, {"number": 100, "content": "    if (shouldLogDebug) {", "is_target": false}, {"number": 101, "content": "        // Compact debug output - only essential info", "is_target": false}, {"number": 102, "content": "        int contactCount = 0;", "is_target": false}, {"number": 103, "content": "        int stableContactCount = filteredSensorData.getStableContactCount();", "is_target": true}, {"number": 104, "content": "        ", "is_target": false}, {"number": 105, "content": "        // Count contacts silently", "is_target": false}, {"number": 106, "content": "        for (int i = 0; i < 6; ++i) {", "is_target": false}, {"number": 107, "content": "            std::string sensorName = \"foot_contact_\" + std::to_string(i);", "is_target": false}, {"number": 108, "content": "            if (auto* contact = robot->getSensor(sensorName)) {", "is_target": false}]}, "unique_id": "5efcb703"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'turnRadius' is assigned a value that is never used.", "file": "src/RobotController.cpp", "line": 173, "code_context": {"lines": [{"number": 168, "content": "        float gaitSpeed = 3.0f; // Gait cycle frequency", "is_target": false}, {"number": 169, "content": "        float phase = fmod(simulationTime * gaitSpeed, 2.0 * M_PI);", "is_target": false}, {"number": 170, "content": "        ", "is_target": false}, {"number": 171, "content": "        // Calculate stride length based on velocity", "is_target": false}, {"number": 172, "content": "        float strideLength = manualVelocity.x * 0.8f;", "is_target": false}, {"number": 173, "content": "        float turnRadius = (manualRotation != 0.0f) ? 2.0f / std::abs(manualRotation) : 1000.0f;", "is_target": true}, {"number": 174, "content": "        ", "is_target": false}, {"number": 175, "content": "        for (int leg = 0; leg < 6; ++leg) {", "is_target": false}, {"number": 176, "content": "            // Tripod groups: legs 0,2,4 vs 1,3,5", "is_target": false}, {"number": 177, "content": "            bool isGroupA = (leg % 2 == 0);", "is_target": false}, {"number": 178, "content": "            float legPhase = isGroupA ? phase : phase + M_PI;", "is_target": false}]}, "unique_id": "8269d79f"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'legPair' is assigned a value that is never used.", "file": "src/RobotController.cpp", "line": 182, "code_context": {"lines": [{"number": 177, "content": "            bool isGroupA = (leg % 2 == 0);", "is_target": false}, {"number": 178, "content": "            float legPhase = isGroupA ? phase : phase + M_PI;", "is_target": false}, {"number": 179, "content": "            ", "is_target": false}, {"number": 180, "content": "            // Determine which side of robot (left=0,1,2  right=3,4,5)", "is_target": false}, {"number": 181, "content": "            bool isLeftSide = (leg < 3);", "is_target": false}, {"number": 182, "content": "            int legPair = leg % 3; // Front=0, Middle=1, Rear=2", "is_target": true}, {"number": 183, "content": "            ", "is_target": false}, {"number": 184, "content": "            // Calculate differential stride for turning", "is_target": false}, {"number": 185, "content": "            float turnFactor = 1.0f;", "is_target": false}, {"number": 186, "content": "            if (manualRotation != 0.0f) {", "is_target": false}, {"number": 187, "content": "                // Inner legs move slower, outer legs move faster during turn", "is_target": false}]}, "unique_id": "6cdce62b"}, {"id": "checkersReport", "severity": "information", "message": "Active checkers: There was critical errors (use --checkers-report=<filename> to see details)", "file": "", "line": 0, "unique_id": "7bbcdf69"}],
            fileGroups: {"src/RobotController.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/RobotController.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}]}, "unique_id": "905398e7"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Robot.h\" not found.", "file": "src/RobotController.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": true}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}]}, "unique_id": "a02ad422"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/RobotController.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}]}, "unique_id": "532a9df8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Sensor.h\" not found.", "file": "src/RobotController.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": true}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}]}, "unique_id": "72aace15"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/RobotController.cpp", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 2, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 5, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 6, "content": "#include <cmath>", "is_target": false}, {"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <iomanip>", "is_target": false}]}, "unique_id": "512670f1"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/RobotController.cpp", "line": 12, "code_context": {"lines": [{"number": 7, "content": "#include <algorithm>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <iomanip>", "is_target": false}, {"number": 11, "content": "#include <fstream>", "is_target": false}, {"number": 12, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 13, "content": "", "is_target": false}, {"number": 14, "content": "RobotController::RobotController(Robot* robot, PhysicsWorld* physicsWorld)", "is_target": false}, {"number": 15, "content": "    : robot(robot)", "is_target": false}, {"number": 16, "content": "    , physicsWorld(physicsWorld)", "is_target": false}, {"number": 17, "content": "    , controlMode(MANUAL)", "is_target": false}]}, "unique_id": "5afc1a63"}, {"id": "identicalInnerCondition", "severity": "warning", "message": "Identical inner 'if' condition is always true.", "file": "src/RobotController.cpp", "line": 556, "code_context": {"lines": [{"number": 551, "content": "    ", "is_target": false}, {"number": 552, "content": "    // Simple obstacle detection based on proximity sensors", "is_target": false}, {"number": 553, "content": "    if (sensorReadings.size() >= 6) {", "is_target": false}, {"number": 554, "content": "        for (size_t i = 0; i < 6; ++i) {", "is_target": false}, {"number": 555, "content": "            if (sensorReadings[i] < 2.0f) { // Obstacle detected within 2 units", "is_target": false}, {"number": 556, "content": "                if (sensorReadings[i] < 2.0f) {", "is_target": true}, {"number": 557, "content": "                    if (sensorReadings[i] < obstacleDistance) {", "is_target": false}, {"number": 558, "content": "                        float angle = i * M_PI / 3.0f;", "is_target": false}, {"number": 559, "content": "                        obstacleDirection = makePosition(std::cos(angle), 0.0f, std::sin(angle));", "is_target": false}, {"number": 560, "content": "                        obstacleDistance = sensorReadings[i];", "is_target": false}, {"number": 561, "content": "                    }", "is_target": false}]}, "unique_id": "a905dc7e"}, {"id": "invalidPointerCast", "severity": "portability", "message": "Casting from float * to signed char * is not portable due to different binary data representations on different platforms.", "file": "src/RobotController.cpp", "line": 624, "code_context": {"lines": [{"number": 619, "content": "        for (size_t i = 0; i < dataSize; ++i) {", "is_target": false}, {"number": 620, "content": "            size_t sensorSize, actionSize;", "is_target": false}, {"number": 621, "content": "            ", "is_target": false}, {"number": 622, "content": "            file.read(reinterpret_cast<char*>(&sensorSize), sizeof(sensorSize));", "is_target": false}, {"number": 623, "content": "            std::vector<float> sensors(sensorSize);", "is_target": false}, {"number": 624, "content": "            file.read(reinterpret_cast<char*>(sensors.data()), sensorSize * sizeof(float));", "is_target": true}, {"number": 625, "content": "            ", "is_target": false}, {"number": 626, "content": "            file.read(reinterpret_cast<char*>(&actionSize), sizeof(actionSize));", "is_target": false}, {"number": 627, "content": "            std::vector<float> actions(actionSize);", "is_target": false}, {"number": 628, "content": "            file.read(reinterpret_cast<char*>(actions.data()), actionSize * sizeof(float));", "is_target": false}, {"number": 629, "content": "            ", "is_target": false}]}, "unique_id": "cf55a6a3"}, {"id": "invalidPointerCast", "severity": "portability", "message": "Casting from float * to signed char * is not portable due to different binary data representations on different platforms.", "file": "src/RobotController.cpp", "line": 628, "code_context": {"lines": [{"number": 623, "content": "            std::vector<float> sensors(sensorSize);", "is_target": false}, {"number": 624, "content": "            file.read(reinterpret_cast<char*>(sensors.data()), sensorSize * sizeof(float));", "is_target": false}, {"number": 625, "content": "            ", "is_target": false}, {"number": 626, "content": "            file.read(reinterpret_cast<char*>(&actionSize), sizeof(actionSize));", "is_target": false}, {"number": 627, "content": "            std::vector<float> actions(actionSize);", "is_target": false}, {"number": 628, "content": "            file.read(reinterpret_cast<char*>(actions.data()), actionSize * sizeof(float));", "is_target": true}, {"number": 629, "content": "            ", "is_target": false}, {"number": 630, "content": "            trainingData.push_back({sensors, actions});", "is_target": false}, {"number": 631, "content": "        }", "is_target": false}, {"number": 632, "content": "        ", "is_target": false}, {"number": 633, "content": "        file.close();", "is_target": false}]}, "unique_id": "73bef561"}, {"id": "constVariableReference", "severity": "style", "message": "Variable 'pattern' can be declared as reference to const", "file": "src/RobotController.cpp", "line": 288, "code_context": {"lines": [{"number": 283, "content": "}", "is_target": false}, {"number": 284, "content": "", "is_target": false}, {"number": 285, "content": "void RobotController::updateDemonstrationControl(double deltaTime) {", "is_target": false}, {"number": 286, "content": "    // Execute recorded pattern", "is_target": false}, {"number": 287, "content": "    if (!currentRecordingName.empty() && savedPatterns.count(currentRecordingName)) {", "is_target": false}, {"number": 288, "content": "        auto& pattern = savedPatterns[currentRecordingName];", "is_target": true}, {"number": 289, "content": "        ", "is_target": false}, {"number": 290, "content": "        // Find appropriate command based on time", "is_target": false}, {"number": 291, "content": "        double patternTime = 0.0;", "is_target": false}, {"number": 292, "content": "        for (const auto& [time, input] : pattern) {", "is_target": false}, {"number": 293, "content": "            if (time <= patternTime) {", "is_target": false}]}, "unique_id": "82875ccc"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'stableContactCount' is assigned a value that is never used.", "file": "src/RobotController.cpp", "line": 103, "code_context": {"lines": [{"number": 98, "content": "                         (noiseLevel > 0.0f && debugLogCounter % 30 == 0); // Every 0.5s with noise", "is_target": false}, {"number": 99, "content": "    ", "is_target": false}, {"number": 100, "content": "    if (shouldLogDebug) {", "is_target": false}, {"number": 101, "content": "        // Compact debug output - only essential info", "is_target": false}, {"number": 102, "content": "        int contactCount = 0;", "is_target": false}, {"number": 103, "content": "        int stableContactCount = filteredSensorData.getStableContactCount();", "is_target": true}, {"number": 104, "content": "        ", "is_target": false}, {"number": 105, "content": "        // Count contacts silently", "is_target": false}, {"number": 106, "content": "        for (int i = 0; i < 6; ++i) {", "is_target": false}, {"number": 107, "content": "            std::string sensorName = \"foot_contact_\" + std::to_string(i);", "is_target": false}, {"number": 108, "content": "            if (auto* contact = robot->getSensor(sensorName)) {", "is_target": false}]}, "unique_id": "5efcb703"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'turnRadius' is assigned a value that is never used.", "file": "src/RobotController.cpp", "line": 173, "code_context": {"lines": [{"number": 168, "content": "        float gaitSpeed = 3.0f; // Gait cycle frequency", "is_target": false}, {"number": 169, "content": "        float phase = fmod(simulationTime * gaitSpeed, 2.0 * M_PI);", "is_target": false}, {"number": 170, "content": "        ", "is_target": false}, {"number": 171, "content": "        // Calculate stride length based on velocity", "is_target": false}, {"number": 172, "content": "        float strideLength = manualVelocity.x * 0.8f;", "is_target": false}, {"number": 173, "content": "        float turnRadius = (manualRotation != 0.0f) ? 2.0f / std::abs(manualRotation) : 1000.0f;", "is_target": true}, {"number": 174, "content": "        ", "is_target": false}, {"number": 175, "content": "        for (int leg = 0; leg < 6; ++leg) {", "is_target": false}, {"number": 176, "content": "            // Tripod groups: legs 0,2,4 vs 1,3,5", "is_target": false}, {"number": 177, "content": "            bool isGroupA = (leg % 2 == 0);", "is_target": false}, {"number": 178, "content": "            float legPhase = isGroupA ? phase : phase + M_PI;", "is_target": false}]}, "unique_id": "8269d79f"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'legPair' is assigned a value that is never used.", "file": "src/RobotController.cpp", "line": 182, "code_context": {"lines": [{"number": 177, "content": "            bool isGroupA = (leg % 2 == 0);", "is_target": false}, {"number": 178, "content": "            float legPhase = isGroupA ? phase : phase + M_PI;", "is_target": false}, {"number": 179, "content": "            ", "is_target": false}, {"number": 180, "content": "            // Determine which side of robot (left=0,1,2  right=3,4,5)", "is_target": false}, {"number": 181, "content": "            bool isLeftSide = (leg < 3);", "is_target": false}, {"number": 182, "content": "            int legPair = leg % 3; // Front=0, Middle=1, Rear=2", "is_target": true}, {"number": 183, "content": "            ", "is_target": false}, {"number": 184, "content": "            // Calculate differential stride for turning", "is_target": false}, {"number": 185, "content": "            float turnFactor = 1.0f;", "is_target": false}, {"number": 186, "content": "            if (manualRotation != 0.0f) {", "is_target": false}, {"number": 187, "content": "                // Inner legs move slower, outer legs move faster during turn", "is_target": false}]}, "unique_id": "6cdce62b"}], "src/Robot.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Robot.h\" not found.", "file": "src/Robot.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": true}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}]}, "unique_id": "8f1d7870"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/Robot.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}]}, "unique_id": "c88824da"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Sensor.h\" not found.", "file": "src/Robot.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": true}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}]}, "unique_id": "b9e3d541"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Actuator.h\" not found.", "file": "src/Robot.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": true}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}]}, "unique_id": "6f8bafe8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/Robot.cpp", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <cmath>", "is_target": false}]}, "unique_id": "bd625cac"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Robot.cpp", "line": 6, "code_context": {"lines": [{"number": 1, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 4, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 5, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 6, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 7, "content": "#include <array>", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "#include <cmath>", "is_target": false}, {"number": 11, "content": "#include <iomanip>", "is_target": false}]}, "unique_id": "d951de5d"}, {"id": "constVariableReference", "severity": "style", "message": "Variable 'contactSensor' can be declared as reference to const", "file": "src/Robot.cpp", "line": 940, "code_context": {"lines": [{"number": 935, "content": "    DEBUG_INFO(\"Created \" + std::to_string(sensors.size()) + \" sensors for robot\");", "is_target": false}, {"number": 936, "content": "}", "is_target": false}, {"number": 937, "content": "", "is_target": false}, {"number": 938, "content": "void Robot::setPhysicsWorld(PhysicsWorld* world) {", "is_target": false}, {"number": 939, "content": "    // Set physics world for contact sensors", "is_target": false}, {"number": 940, "content": "    for (auto& contactSensor : footContactSensors) {", "is_target": true}, {"number": 941, "content": "        if (auto* sensor = dynamic_cast<ContactSensor*>(contactSensor)) {", "is_target": false}, {"number": 942, "content": "            sensor->setPhysicsWorld(world);", "is_target": false}, {"number": 943, "content": "        }", "is_target": false}, {"number": 944, "content": "    }", "is_target": false}, {"number": 945, "content": "}", "is_target": false}]}, "unique_id": "2ce8e1ae"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'legPair' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 166, "code_context": {"lines": [{"number": 161, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 162, "content": "        std::cout << \"  Leg \" << i << \" attaching at world (\" << attachX << \", \" << attachY << \", \" << attachZ << \")\" << std::endl;", "is_target": false}, {"number": 163, "content": "#endif", "is_target": false}, {"number": 164, "content": "        ", "is_target": false}, {"number": 165, "content": "        // Determine leg side for proper angles", "is_target": false}, {"number": 166, "content": "        int legPair = i / 2;  // 0, 1, 2 for front, middle, rear", "is_target": true}, {"number": 167, "content": "        int side = (i % 2 == 0) ? -1 : 1;  // left (-1), right (+1)", "is_target": false}, {"number": 168, "content": "        ", "is_target": false}, {"number": 169, "content": "        // Adjusted angles for proper standing height", "is_target": false}, {"number": 170, "content": "        const double maxAngle = M_PI / 2.0; // 90 degrees", "is_target": false}, {"number": 171, "content": "        const double coxaAngle = side * (30.0 * M_PI / 180.0);  // 30\u00b0 outward - more vertical", "is_target": false}]}, "unique_id": "51985efa"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'footEndX' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 309, "code_context": {"lines": [{"number": 304, "content": "        double tibiaMidX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 305, "content": "        double tibiaMidY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 306, "content": "        double tibiaMidZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 307, "content": "        ", "is_target": false}, {"number": 308, "content": "        // Calculate foot end position for ground contact validation", "is_target": false}, {"number": 309, "content": "        double footEndX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": true}, {"number": 310, "content": "        double footEndY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 311, "content": "        double footEndZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 312, "content": "        ", "is_target": false}, {"number": 313, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 314, "content": "        std::cout << \"  Leg \" << i << \" foot position: (\" << footEndX << \", \" << footEndY << \", \" << footEndZ << \")\" << std::endl;", "is_target": false}]}, "unique_id": "89ae19d5"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'footEndY' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 310, "code_context": {"lines": [{"number": 305, "content": "        double tibiaMidY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 306, "content": "        double tibiaMidZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 307, "content": "        ", "is_target": false}, {"number": 308, "content": "        // Calculate foot end position for ground contact validation", "is_target": false}, {"number": 309, "content": "        double footEndX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 310, "content": "        double footEndY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": true}, {"number": 311, "content": "        double footEndZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 312, "content": "        ", "is_target": false}, {"number": 313, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 314, "content": "        std::cout << \"  Leg \" << i << \" foot position: (\" << footEndX << \", \" << footEndY << \", \" << footEndZ << \")\" << std::endl;", "is_target": false}, {"number": 315, "content": "        if (footEndZ > 0.1f) {", "is_target": false}]}, "unique_id": "6efacdc4"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'footEndZ' is assigned a value that is never used.", "file": "src/Robot.cpp", "line": 311, "code_context": {"lines": [{"number": 306, "content": "        double tibiaMidZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength * 0.5;", "is_target": false}, {"number": 307, "content": "        ", "is_target": false}, {"number": 308, "content": "        // Calculate foot end position for ground contact validation", "is_target": false}, {"number": 309, "content": "        double footEndX = femurEndX + cos(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 310, "content": "        double footEndY = femurEndY + sin(coxaAngle) * cos(tibiaTotalAngle) * config.tibiaLength;", "is_target": false}, {"number": 311, "content": "        double footEndZ = femurEndZ - sin(tibiaTotalAngle) * config.tibiaLength;", "is_target": true}, {"number": 312, "content": "        ", "is_target": false}, {"number": 313, "content": "#ifdef DEBUG_ROBOT_INIT", "is_target": false}, {"number": 314, "content": "        std::cout << \"  Leg \" << i << \" foot position: (\" << footEndX << \", \" << footEndY << \", \" << footEndZ << \")\" << std::endl;", "is_target": false}, {"number": 315, "content": "        if (footEndZ > 0.1f) {", "is_target": false}, {"number": 316, "content": "            std::cout << \"\u26a0\ufe0f  Warning: Leg \" << i << \" foot end (\" << footEndZ << \") may not reach ground\" << std::endl;", "is_target": false}]}, "unique_id": "6241d4c1"}], "src/main.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Robot.h\" not found.", "file": "src/main.cpp", "line": 11, "code_context": {"lines": [{"number": 6, "content": "#include <atomic>", "is_target": false}, {"number": 7, "content": "#include <unistd.h>", "is_target": false}, {"number": 8, "content": "#include <sstream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": true}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}]}, "unique_id": "3a3575c8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/main.cpp", "line": 12, "code_context": {"lines": [{"number": 7, "content": "#include <unistd.h>", "is_target": false}, {"number": 8, "content": "#include <sstream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}]}, "unique_id": "b8ab75d3"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/main.cpp", "line": 13, "code_context": {"lines": [{"number": 8, "content": "#include <sstream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}]}, "unique_id": "5218d13f"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Terrain.h\" not found.", "file": "src/main.cpp", "line": 14, "code_context": {"lines": [{"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": true}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}]}, "unique_id": "4dc4ad5d"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/main.cpp", "line": 15, "code_context": {"lines": [{"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}]}, "unique_id": "40e93e99"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"InputHandler.h\" not found.", "file": "src/main.cpp", "line": 16, "code_context": {"lines": [{"number": 11, "content": "#include \"Robot.h\"", "is_target": false}, {"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": true}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "#ifndef USE_OPENGL_FALLBACK", "is_target": false}]}, "unique_id": "a8e1fd48"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/main.cpp", "line": 17, "code_context": {"lines": [{"number": 12, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "#ifndef USE_OPENGL_FALLBACK", "is_target": false}, {"number": 22, "content": "#include <vsg/all.h>", "is_target": false}]}, "unique_id": "0c85c0f8"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/main.cpp", "line": 18, "code_context": {"lines": [{"number": 13, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 14, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 15, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 16, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 17, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 18, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 19, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "#ifndef USE_OPENGL_FALLBACK", "is_target": false}, {"number": 22, "content": "#include <vsg/all.h>", "is_target": false}, {"number": 23, "content": "#include <vsgXchange/all.h>", "is_target": false}]}, "unique_id": "86a69373"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/main.cpp", "line": 27, "code_context": {"lines": [{"number": 22, "content": "#include <vsg/all.h>", "is_target": false}, {"number": 23, "content": "#include <vsgXchange/all.h>", "is_target": false}, {"number": 24, "content": "// Event handlers only available with VSG", "is_target": false}, {"number": 25, "content": "#endif", "is_target": false}, {"number": 26, "content": "", "is_target": false}, {"number": 27, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 28, "content": "", "is_target": false}, {"number": 29, "content": "// Global flag for graceful shutdown", "is_target": false}, {"number": 30, "content": "std::atomic<bool> g_shouldExit{false};", "is_target": false}, {"number": 31, "content": "", "is_target": false}, {"number": 32, "content": "void signalHandler(int signal) {", "is_target": false}]}, "unique_id": "512a4b93"}, {"id": "shadowVariable", "severity": "style", "message": "Local variable 'frameCount' shadows outer variable", "file": "src/main.cpp", "line": 418, "code_context": {"lines": [{"number": 413, "content": "            // }", "is_target": false}, {"number": 414, "content": "        }", "is_target": false}, {"number": 415, "content": "    }", "is_target": false}, {"number": 416, "content": "", "is_target": false}, {"number": 417, "content": "    void displayStats() {", "is_target": false}, {"number": 418, "content": "        static int frameCount = 0;", "is_target": true}, {"number": 419, "content": "        frameCount++;", "is_target": false}, {"number": 420, "content": "        ", "is_target": false}, {"number": 421, "content": "        // Get robot info", "is_target": false}, {"number": 422, "content": "        vsg_vec3 pos = robot->getPosition();", "is_target": false}, {"number": 423, "content": "        vsg_vec3 vel = robot->getVelocity();", "is_target": false}]}, "unique_id": "493995ca"}], "src/Visualizer.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/Visualizer.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 2, "content": "#include \"VisualizerHexapodConfig.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "#include <sstream>", "is_target": false}]}, "unique_id": "209139cb"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/Visualizer.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 2, "content": "#include \"VisualizerHexapodConfig.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 4, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "#include <sstream>", "is_target": false}, {"number": 7, "content": "#include <iomanip>", "is_target": false}, {"number": 8, "content": "#include <vector>", "is_target": false}]}, "unique_id": "157c4ab1"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Visualizer.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 2, "content": "#include \"VisualizerHexapodConfig.h\"", "is_target": false}, {"number": 3, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 4, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "#include <sstream>", "is_target": false}, {"number": 7, "content": "#include <iomanip>", "is_target": false}, {"number": 8, "content": "#include <vector>", "is_target": false}, {"number": 9, "content": "", "is_target": false}]}, "unique_id": "806f1d4a"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/Visualizer.cpp", "line": 97, "code_context": {"lines": [{"number": 92, "content": "#include <vsg/nodes/CullGroup.h>", "is_target": false}, {"number": 93, "content": "#include <vsg/nodes/AbsoluteTransform.h>", "is_target": false}, {"number": 94, "content": "#include <vsg/utils/ShaderSet.h>", "is_target": false}, {"number": 95, "content": "#endif", "is_target": false}, {"number": 96, "content": "", "is_target": false}, {"number": 97, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 98, "content": "", "is_target": false}, {"number": 99, "content": "// Internal InputHandler removed - using external InputHandler from main.cpp", "is_target": false}, {"number": 100, "content": "", "is_target": false}, {"number": 101, "content": "Visualizer::Visualizer(uint32_t width, uint32_t height) ", "is_target": false}, {"number": 102, "content": "    : windowWidth(width), windowHeight(height) {", "is_target": false}]}, "unique_id": "145f7823"}, {"id": "variableScope", "severity": "style", "message": "The scope of the variable 'debugFrameCount' can be reduced.", "file": "src/Visualizer.cpp", "line": 351, "code_context": {"lines": [{"number": 346, "content": "        }", "is_target": false}, {"number": 347, "content": "    }", "is_target": false}, {"number": 348, "content": "#endif", "is_target": false}, {"number": 349, "content": "    ", "is_target": false}, {"number": 350, "content": "    // Frame", "is_target": false}, {"number": 351, "content": "    static int debugFrameCount = 0;", "is_target": true}, {"number": 352, "content": "    static auto lastDebugTime = std::chrono::high_resolution_clock::now();", "is_target": false}, {"number": 353, "content": "    ", "is_target": false}, {"number": 354, "content": "    auto beforeAdvance = std::chrono::high_resolution_clock::now();", "is_target": false}, {"number": 355, "content": "    bool advanced = viewer->advanceToNextFrame();", "is_target": false}, {"number": 356, "content": "    auto afterAdvance = std::chrono::high_resolution_clock::now();", "is_target": false}]}, "unique_id": "80599033"}, {"id": "constVariableReference", "severity": "style", "message": "Variable 'child' can be declared as reference to const", "file": "src/Visualizer.cpp", "line": 1453, "code_context": {"lines": [{"number": 1448, "content": "    std::cout << \"  Expected initial physics Z: \" << bodyZ << std::endl;", "is_target": false}, {"number": 1449, "content": "    std::cout << \"  Scene children: \" << scene->children.size() << std::endl;", "is_target": false}, {"number": 1450, "content": "    ", "is_target": false}, {"number": 1451, "content": "    // Verify the robot is actually in the scene", "is_target": false}, {"number": 1452, "content": "    bool foundRobot = false;", "is_target": false}, {"number": 1453, "content": "    for (auto& child : scene->children) {", "is_target": true}, {"number": 1454, "content": "        if (child == robotTransform) {", "is_target": false}, {"number": 1455, "content": "            foundRobot = true;", "is_target": false}, {"number": 1456, "content": "            std::cout << \"  \u2713 Robot transform found in scene!\" << std::endl;", "is_target": false}, {"number": 1457, "content": "            break;", "is_target": false}, {"number": 1458, "content": "        }", "is_target": false}]}, "unique_id": "4933317b"}, {"id": "useStlAlgorithm", "severity": "style", "message": "Consider using std::any_of algorithm instead of a raw loop.", "file": "src/Visualizer.cpp", "line": 1454, "code_context": {"lines": [{"number": 1449, "content": "    std::cout << \"  Scene children: \" << scene->children.size() << std::endl;", "is_target": false}, {"number": 1450, "content": "    ", "is_target": false}, {"number": 1451, "content": "    // Verify the robot is actually in the scene", "is_target": false}, {"number": 1452, "content": "    bool foundRobot = false;", "is_target": false}, {"number": 1453, "content": "    for (auto& child : scene->children) {", "is_target": false}, {"number": 1454, "content": "        if (child == robotTransform) {", "is_target": true}, {"number": 1455, "content": "            foundRobot = true;", "is_target": false}, {"number": 1456, "content": "            std::cout << \"  \u2713 Robot transform found in scene!\" << std::endl;", "is_target": false}, {"number": 1457, "content": "            break;", "is_target": false}, {"number": 1458, "content": "        }", "is_target": false}, {"number": 1459, "content": "    }", "is_target": false}]}, "unique_id": "9b19a7a0"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'totalLegLength' is assigned a value that is never used.", "file": "src/Visualizer.cpp", "line": 1140, "code_context": {"lines": [{"number": 1135, "content": "    ", "is_target": false}, {"number": 1136, "content": "    // Calculate initial Z position to match Robot.cpp physics initialization", "is_target": false}, {"number": 1137, "content": "    const double coxaLength = 0.25;", "is_target": false}, {"number": 1138, "content": "    const double femurLength = 0.35;", "is_target": false}, {"number": 1139, "content": "    const double tibiaLength = 0.4;", "is_target": false}, {"number": 1140, "content": "    const double totalLegLength = coxaLength + femurLength + tibiaLength;", "is_target": true}, {"number": 1141, "content": "    // Match physics initial position - body at 1.0 for safe settling", "is_target": false}, {"number": 1142, "content": "    const double bodyZ = 1.0;  // Matches Robot::createBody() initZ", "is_target": false}, {"number": 1143, "content": "    ", "is_target": false}, {"number": 1144, "content": "    // Create robot transform that will be updated with physics position", "is_target": false}, {"number": 1145, "content": "    robotTransform = vsg::MatrixTransform::create();", "is_target": false}]}, "unique_id": "668490a4"}], "src/InputHandler.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"InputHandler.h\" not found.", "file": "src/InputHandler.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": true}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}]}, "unique_id": "6916b501"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/InputHandler.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}]}, "unique_id": "fec5febc"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/InputHandler.cpp", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}]}, "unique_id": "84e0025c"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/InputHandler.cpp", "line": 6, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}]}, "unique_id": "6aaad679"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/InputHandler.cpp", "line": 7, "code_context": {"lines": [{"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#ifndef USE_OPENGL_FALLBACK  // Only compile VSG version", "is_target": false}, {"number": 4, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 5, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 6, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 7, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 8, "content": "#include <iostream>", "is_target": false}, {"number": 9, "content": "#include <iomanip>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}, {"number": 12, "content": "    : robotController(controller), visualizer(vis)", "is_target": false}]}, "unique_id": "d0976f13"}], "src/Sensor.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Sensor.h\" not found.", "file": "src/Sensor.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Sensor.h\"", "is_target": true}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 3, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <chrono>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "f9f67a3c"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/Sensor.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 3, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <chrono>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "// Random number generator for sensor noise (kept for backward compatibility)", "is_target": false}]}, "unique_id": "42d904ed"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Sensor.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"Sensor.h\"", "is_target": false}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 3, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <chrono>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "// Random number generator for sensor noise (kept for backward compatibility)", "is_target": false}, {"number": 8, "content": "static std::random_device rd;", "is_target": false}]}, "unique_id": "67b5d6a7"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'pos' is assigned a value that is never used.", "file": "src/Sensor.cpp", "line": 204, "code_context": {"lines": [{"number": 199, "content": "// Distance Sensor", "is_target": false}, {"number": 200, "content": "void DistanceSensor::update(double deltaTime) {", "is_target": false}, {"number": 201, "content": "    if (!enabled_ || !body_ || !physicsWorld_) return;", "is_target": false}, {"number": 202, "content": "    ", "is_target": false}, {"number": 203, "content": "    // Get sensor position in world coordinates", "is_target": false}, {"number": 204, "content": "    const dReal* pos = dBodyGetPosition(body_);", "is_target": true}, {"number": 205, "content": "    const dReal* rot = dBodyGetRotation(body_);", "is_target": false}, {"number": 206, "content": "    ", "is_target": false}, {"number": 207, "content": "    // Transform local position to world", "is_target": false}, {"number": 208, "content": "    dVector3 worldPos;", "is_target": false}, {"number": 209, "content": "    dBodyGetRelPointPos(body_, localPosition_.x, localPosition_.y, localPosition_.z, worldPos);", "is_target": false}]}, "unique_id": "0eeee66b"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'rot' is assigned a value that is never used.", "file": "src/Sensor.cpp", "line": 205, "code_context": {"lines": [{"number": 200, "content": "void DistanceSensor::update(double deltaTime) {", "is_target": false}, {"number": 201, "content": "    if (!enabled_ || !body_ || !physicsWorld_) return;", "is_target": false}, {"number": 202, "content": "    ", "is_target": false}, {"number": 203, "content": "    // Get sensor position in world coordinates", "is_target": false}, {"number": 204, "content": "    const dReal* pos = dBodyGetPosition(body_);", "is_target": false}, {"number": 205, "content": "    const dReal* rot = dBodyGetRotation(body_);", "is_target": true}, {"number": 206, "content": "    ", "is_target": false}, {"number": 207, "content": "    // Transform local position to world", "is_target": false}, {"number": 208, "content": "    dVector3 worldPos;", "is_target": false}, {"number": 209, "content": "    dBodyGetRelPointPos(body_, localPosition_.x, localPosition_.y, localPosition_.z, worldPos);", "is_target": false}, {"number": 210, "content": "    ", "is_target": false}]}, "unique_id": "60bd634b"}], "src/Actuator.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Actuator.h\" not found.", "file": "src/Actuator.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Actuator.h\"", "is_target": true}, {"number": 2, "content": "#include \"NoiseManager.h\"", "is_target": false}, {"number": 3, "content": "#include <algorithm>", "is_target": false}, {"number": 4, "content": "#include <cmath>", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "b7bb6bc9"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/Actuator.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Actuator.h\"", "is_target": false}, {"number": 2, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 3, "content": "#include <algorithm>", "is_target": false}, {"number": 4, "content": "#include <cmath>", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "// Position Motor", "is_target": false}]}, "unique_id": "ac870251"}, {"id": "variableScope", "severity": "style", "message": "The scope of the variable 'updateCounter' can be reduced.", "file": "src/Actuator.cpp", "line": 96, "code_context": {"lines": [{"number": 91, "content": "", "is_target": false}, {"number": 92, "content": "void VelocityMotor::update(double deltaTime) {", "is_target": false}, {"number": 93, "content": "    if (!enabled_ || !joint_) return;", "is_target": false}, {"number": 94, "content": "    ", "is_target": false}, {"number": 95, "content": "    // Update noise manager for tracking time", "is_target": false}, {"number": 96, "content": "    static int updateCounter = 0;", "is_target": true}, {"number": 97, "content": "    static bool debugPrinted = false;", "is_target": false}, {"number": 98, "content": "    ", "is_target": false}, {"number": 99, "content": "    // Check joint type and apply appropriate control", "is_target": false}, {"number": 100, "content": "    dJointType type = dJointGetType(joint_);", "is_target": false}, {"number": 101, "content": "    ", "is_target": false}]}, "unique_id": "191a0f6a"}, {"id": "variableScope", "severity": "style", "message": "The scope of the variable 'debugPrinted' can be reduced.", "file": "src/Actuator.cpp", "line": 97, "code_context": {"lines": [{"number": 92, "content": "void VelocityMotor::update(double deltaTime) {", "is_target": false}, {"number": 93, "content": "    if (!enabled_ || !joint_) return;", "is_target": false}, {"number": 94, "content": "    ", "is_target": false}, {"number": 95, "content": "    // Update noise manager for tracking time", "is_target": false}, {"number": 96, "content": "    static int updateCounter = 0;", "is_target": false}, {"number": 97, "content": "    static bool debugPrinted = false;", "is_target": true}, {"number": 98, "content": "    ", "is_target": false}, {"number": 99, "content": "    // Check joint type and apply appropriate control", "is_target": false}, {"number": 100, "content": "    dJointType type = dJointGetType(joint_);", "is_target": false}, {"number": 101, "content": "    ", "is_target": false}, {"number": 102, "content": "    switch (type) {", "is_target": false}]}, "unique_id": "f16762ef"}, {"id": "unreadVariable", "severity": "style", "message": "Variable 'currentVel' is assigned a value that is never used.", "file": "src/Actuator.cpp", "line": 240, "code_context": {"lines": [{"number": 235, "content": "void LinearMotor::update(double deltaTime) {", "is_target": false}, {"number": 236, "content": "    if (!enabled_ || !joint_) return;", "is_target": false}, {"number": 237, "content": "    ", "is_target": false}, {"number": 238, "content": "    // Get current position", "is_target": false}, {"number": 239, "content": "    float currentPos = dJointGetSliderPosition(joint_);", "is_target": false}, {"number": 240, "content": "    float currentVel = dJointGetSliderPositionRate(joint_);", "is_target": true}, {"number": 241, "content": "    ", "is_target": false}, {"number": 242, "content": "    // Simple P control for target position", "is_target": false}, {"number": 243, "content": "    float posError = currentCommand_.targetValue - currentPos;", "is_target": false}, {"number": 244, "content": "    float targetVel = 10.0f * posError; // P gain", "is_target": false}, {"number": 245, "content": "    ", "is_target": false}]}, "unique_id": "4fe34949"}], "src/InputHandler_fixed.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"InputHandler.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": true}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "2eb2f440"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"RobotController.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": true}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}]}, "unique_id": "5fc93857"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"Visualizer.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": true}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}, {"number": 8, "content": "    : robotController(controller), visualizer(vis)", "is_target": false}]}, "unique_id": "ffc0714d"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/InputHandler_fixed.cpp", "line": 4, "code_context": {"lines": [{"number": 1, "content": "#include \"InputHandler.h\"", "is_target": false}, {"number": 2, "content": "#include \"RobotController.h\"", "is_target": false}, {"number": 3, "content": "#include \"Visualizer.h\"", "is_target": false}, {"number": 4, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 5, "content": "#include <iostream>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "InputHandler::InputHandler(RobotController* controller, Visualizer* vis)", "is_target": false}, {"number": 8, "content": "    : robotController(controller), visualizer(vis)", "is_target": false}, {"number": 9, "content": "{", "is_target": false}]}, "unique_id": "4c5f3a4a"}], "src/Terrain.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"Terrain.h\" not found.", "file": "src/Terrain.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"Terrain.h\"", "is_target": true}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 3, "content": "#include <cmath>", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "#include <iostream>", "is_target": false}]}, "unique_id": "ec28b730"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/Terrain.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"Terrain.h\"", "is_target": false}, {"number": 2, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 3, "content": "#include <cmath>", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "#include <iostream>", "is_target": false}, {"number": 7, "content": "", "is_target": false}]}, "unique_id": "2bb66a65"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"PositionUtils.h\" not found.", "file": "src/Terrain.cpp", "line": 8, "code_context": {"lines": [{"number": 3, "content": "#include <cmath>", "is_target": false}, {"number": 4, "content": "#include <random>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "#include <iostream>", "is_target": false}, {"number": 7, "content": "", "is_target": false}, {"number": 8, "content": "#include \"PositionUtils.h\"", "is_target": true}, {"number": 9, "content": "", "is_target": false}, {"number": 10, "content": "#ifdef USE_OPENGL_FALLBACK", "is_target": false}, {"number": 11, "content": "Terrain::Terrain(PhysicsWorld* physicsWorld, ref_ptr<Group> sceneGraph)", "is_target": false}, {"number": 12, "content": "    : physicsWorld(physicsWorld), sceneGraph(sceneGraph) {", "is_target": false}, {"number": 13, "content": "    ", "is_target": false}]}, "unique_id": "369c207d"}], "src/PhysicsWorld.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"PhysicsWorld.h\" not found.", "file": "src/PhysicsWorld.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"PhysicsWorld.h\"", "is_target": true}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": false}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "#include <sstream>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "44d942a7"}, {"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/PhysicsWorld.cpp", "line": 2, "code_context": {"lines": [{"number": 1, "content": "#include \"PhysicsWorld.h\"", "is_target": false}, {"number": 2, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "#include <sstream>", "is_target": false}, {"number": 5, "content": "#include <algorithm>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "PhysicsWorld::PhysicsWorld() {", "is_target": false}]}, "unique_id": "00baff7c"}], "include/NoiseManager.h": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"noisegenerator.h\" not found.", "file": "include/NoiseManager.h", "line": 3, "code_context": {"lines": [{"number": 1, "content": "#pragma once", "is_target": false}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#include \"noisegenerator.h\"", "is_target": true}, {"number": 4, "content": "#include <memory>", "is_target": false}, {"number": 5, "content": "#include <vector>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "class NoiseManager {", "is_target": false}, {"number": 8, "content": "public:", "is_target": false}]}, "unique_id": "c3fdb4be"}, {"id": "syntaxError", "severity": "error", "message": "Code 'classNoiseManager{' is invalid C code. Use --std or --language to configure the language.", "file": "include/NoiseManager.h", "line": 7, "code_context": {"lines": [{"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#include \"noisegenerator.h\"", "is_target": false}, {"number": 4, "content": "#include <memory>", "is_target": false}, {"number": 5, "content": "#include <vector>", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "class NoiseManager {", "is_target": true}, {"number": 8, "content": "public:", "is_target": false}, {"number": 9, "content": "    // Singleton pattern", "is_target": false}, {"number": 10, "content": "    static NoiseManager& getInstance() {", "is_target": false}, {"number": 11, "content": "        static NoiseManager instance;", "is_target": false}, {"number": 12, "content": "        return instance;", "is_target": false}]}, "unique_id": "8333c168"}], "src/NoiseManager.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"NoiseManager.h\" not found.", "file": "src/NoiseManager.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"NoiseManager.h\"", "is_target": true}, {"number": 2, "content": "#include <algorithm>", "is_target": false}, {"number": 3, "content": "#include <ctime>", "is_target": false}, {"number": 4, "content": "#include <iostream>", "is_target": false}, {"number": 5, "content": "#include <cmath>", "is_target": false}, {"number": 6, "content": "", "is_target": false}]}, "unique_id": "2e3a1fca"}], "src/VisualizerHexapodConfig.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'namespaceHexapodVisualConfig{' is invalid C code. Use --std or --language to configure the language.", "file": "src/VisualizerHexapodConfig.h", "line": 7, "code_context": {"lines": [{"number": 2, "content": "// Natural hexapod stance parameters", "is_target": false}, {"number": 3, "content": "", "is_target": false}, {"number": 4, "content": "#ifndef VISUALIZER_HEXAPOD_CONFIG_H", "is_target": false}, {"number": 5, "content": "#define VISUALIZER_HEXAPOD_CONFIG_H", "is_target": false}, {"number": 6, "content": "", "is_target": false}, {"number": 7, "content": "namespace HexapodVisualConfig {", "is_target": true}, {"number": 8, "content": "    // Leg spread configuration", "is_target": false}, {"number": 9, "content": "    const double COXA_SPREAD_ANGLE = 70.0;     // degrees - wide spread for stability", "is_target": false}, {"number": 10, "content": "    const double COXA_ELEVATION = 5.0;         // degrees - slight upward angle", "is_target": false}, {"number": 11, "content": "    ", "is_target": false}, {"number": 12, "content": "    // Segment angles for natural stance", "is_target": false}]}, "unique_id": "94bc6e27"}], "src/DebugOutput.cpp": [{"id": "missingInclude", "severity": "information", "message": "Include file: \"DebugOutput.h\" not found.", "file": "src/DebugOutput.cpp", "line": 1, "code_context": {"lines": [{"number": 1, "content": "#include \"DebugOutput.h\"", "is_target": true}, {"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "namespace Debug {", "is_target": false}, {"number": 4, "content": "    // Initialize with INFO level by default - shows important messages only", "is_target": false}, {"number": 5, "content": "    Level currentLevel = INFO;", "is_target": false}, {"number": 6, "content": "}", "is_target": false}]}, "unique_id": "263b816f"}], "include/TestEventHandler.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classTestEventHandler:' is invalid C code. Use --std or --language to configure the language.", "file": "include/TestEventHandler.h", "line": 5, "code_context": {"lines": [{"number": 1, "content": "#pragma once", "is_target": false}, {"number": 2, "content": "#include <vsg/all.h>", "is_target": false}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "", "is_target": false}, {"number": 5, "content": "class TestEventHandler : public vsg::Inherit<vsg::Visitor, TestEventHandler>", "is_target": true}, {"number": 6, "content": "{", "is_target": false}, {"number": 7, "content": "public:", "is_target": false}, {"number": 8, "content": "    TestEventHandler() {", "is_target": false}, {"number": 9, "content": "        std::cout << \"[TestEventHandler] Created\" << std::endl;", "is_target": false}, {"number": 10, "content": "    }", "is_target": false}]}, "unique_id": "8fe33f87"}], "include/ComprehensiveEventDebugger.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classComprehensiveEventDebugger:' is invalid C code. Use --std or --language to configure the language.", "file": "include/ComprehensiveEventDebugger.h", "line": 12, "code_context": {"lines": [{"number": 7, "content": "#include <map>", "is_target": false}, {"number": 8, "content": "#include <string>", "is_target": false}, {"number": 9, "content": "#include <sstream>", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "// Comprehensive event debugger that captures and analyzes all VSG events", "is_target": false}, {"number": 12, "content": "class ComprehensiveEventDebugger : public vsg::Inherit<vsg::Visitor, ComprehensiveEventDebugger>", "is_target": true}, {"number": 13, "content": "{", "is_target": false}, {"number": 14, "content": "public:", "is_target": false}, {"number": 15, "content": "    ComprehensiveEventDebugger() : ", "is_target": false}, {"number": 16, "content": "        start_time(std::chrono::high_resolution_clock::now()),", "is_target": false}, {"number": 17, "content": "        event_count(0) {", "is_target": false}]}, "unique_id": "acc7ea15"}], "include/FallbackTypes.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'template<...' is invalid C code. Use --std or --language to configure the language.", "file": "include/FallbackTypes.h", "line": 69, "code_context": {"lines": [{"number": 64, "content": "    }", "is_target": false}, {"number": 65, "content": "};", "is_target": false}, {"number": 66, "content": "", "is_target": false}, {"number": 67, "content": "// Minimal smart-pointer-like helper to keep existing fallback code compiling.", "is_target": false}, {"number": 68, "content": "// It does NOT manage ownership \u2013 it is only meant for compile-time compatibility.", "is_target": false}, {"number": 69, "content": "template<typename T>", "is_target": true}, {"number": 70, "content": "struct ref_ptr {", "is_target": false}, {"number": 71, "content": "    T* ptr = nullptr;", "is_target": false}, {"number": 72, "content": "    ref_ptr() = default;", "is_target": false}, {"number": 73, "content": "    ref_ptr(std::nullptr_t) : ptr(nullptr) {}  // Allow nullptr initialization", "is_target": false}, {"number": 74, "content": "    explicit ref_ptr(T* p) : ptr(p) {}", "is_target": false}]}, "unique_id": "f98041ee"}], "include/Sensor.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classSensor{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Sensor.h", "line": 27, "code_context": {"lines": [{"number": 22, "content": "", "is_target": false}, {"number": 23, "content": "class PhysicsWorld;", "is_target": false}, {"number": 24, "content": "class Robot;", "is_target": false}, {"number": 25, "content": "", "is_target": false}, {"number": 26, "content": "// Base sensor interface", "is_target": false}, {"number": 27, "content": "class Sensor {", "is_target": true}, {"number": 28, "content": "public:", "is_target": false}, {"number": 29, "content": "    enum Type {", "is_target": false}, {"number": 30, "content": "        JOINT_POSITION,", "is_target": false}, {"number": 31, "content": "        JOINT_VELOCITY,", "is_target": false}, {"number": 32, "content": "        JOINT_TORQUE,", "is_target": false}]}, "unique_id": "65da4cc9"}], "include/DebugOutput.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'namespaceDebug{' is invalid C code. Use --std or --language to configure the language.", "file": "include/DebugOutput.h", "line": 7, "code_context": {"lines": [{"number": 2, "content": "", "is_target": false}, {"number": 3, "content": "#include <iostream>", "is_target": false}, {"number": 4, "content": "#include <string>", "is_target": false}, {"number": 5, "content": "", "is_target": false}, {"number": 6, "content": "// Debug output control", "is_target": false}, {"number": 7, "content": "namespace Debug {", "is_target": true}, {"number": 8, "content": "    enum Level {", "is_target": false}, {"number": 9, "content": "        NONE = 0,", "is_target": false}, {"number": 10, "content": "        ERROR = 1,", "is_target": false}, {"number": 11, "content": "        WARNING = 2,", "is_target": false}, {"number": 12, "content": "        INFO = 3,", "is_target": false}]}, "unique_id": "b618e461"}], "include/Visualizer.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classVisualizer{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Visualizer.h", "line": 34, "code_context": {"lines": [{"number": 29, "content": "", "is_target": false}, {"number": 30, "content": "#include <memory>", "is_target": false}, {"number": 31, "content": "#include <map>", "is_target": false}, {"number": 32, "content": "#include <string>", "is_target": false}, {"number": 33, "content": "", "is_target": false}, {"number": 34, "content": "class Visualizer {", "is_target": true}, {"number": 35, "content": "public:", "is_target": false}, {"number": 36, "content": "    struct Light {", "is_target": false}, {"number": 37, "content": "        vsg_vec3 position;", "is_target": false}, {"number": 38, "content": "        vsg_vec3 color;", "is_target": false}, {"number": 39, "content": "        float intensity;", "is_target": false}]}, "unique_id": "622fb09e"}], "include/Terrain.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classTerrain{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Terrain.h", "line": 23, "code_context": {"lines": [{"number": 18, "content": "#include <vector>", "is_target": false}, {"number": 19, "content": "#include <memory>", "is_target": false}, {"number": 20, "content": "", "is_target": false}, {"number": 21, "content": "class PhysicsWorld;", "is_target": false}, {"number": 22, "content": "", "is_target": false}, {"number": 23, "content": "class Terrain {", "is_target": true}, {"number": 24, "content": "public:", "is_target": false}, {"number": 25, "content": "    enum TerrainType {", "is_target": false}, {"number": 26, "content": "        FLAT,", "is_target": false}, {"number": 27, "content": "        HILLS,", "is_target": false}, {"number": 28, "content": "        MOUNTAINS,", "is_target": false}]}, "unique_id": "faae0be0"}], "include/Robot.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classRobot{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Robot.h", "line": 34, "code_context": {"lines": [{"number": 29, "content": "class JointVelocitySensor;", "is_target": false}, {"number": 30, "content": "class PositionMotor;", "is_target": false}, {"number": 31, "content": "class VelocityMotor;", "is_target": false}, {"number": 32, "content": "class PhysicsWorld;", "is_target": false}, {"number": 33, "content": "", "is_target": false}, {"number": 34, "content": "class Robot {", "is_target": true}, {"number": 35, "content": "public:", "is_target": false}, {"number": 36, "content": "    // Leg segment indices for clear identification and reduced indexing errors", "is_target": false}, {"number": 37, "content": "    enum class LegSegmentIndex : int {", "is_target": false}, {"number": 38, "content": "        COXA = 0,   // Hip segment - connects to body via ball joint", "is_target": false}, {"number": 39, "content": "        FEMUR = 1,  // Thigh segment - connects to coxa via hinge joint", "is_target": false}]}, "unique_id": "f27bc6fb"}], "include/InputHandler.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classInputHandler:' is invalid C code. Use --std or --language to configure the language.", "file": "include/InputHandler.h", "line": 13, "code_context": {"lines": [{"number": 8, "content": "#include <chrono>", "is_target": false}, {"number": 9, "content": "", "is_target": false}, {"number": 10, "content": "class RobotController;", "is_target": false}, {"number": 11, "content": "class Visualizer;", "is_target": false}, {"number": 12, "content": "", "is_target": false}, {"number": 13, "content": "class InputHandler : public vsg::Inherit<vsg::Visitor, InputHandler>", "is_target": true}, {"number": 14, "content": "{", "is_target": false}, {"number": 15, "content": "public:", "is_target": false}, {"number": 16, "content": "    InputHandler(RobotController* controller, Visualizer* vis);", "is_target": false}, {"number": 17, "content": "", "is_target": false}, {"number": 18, "content": "    // Event handling", "is_target": false}]}, "unique_id": "a958e1a8"}], "include/PhysicsWorld.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classPhysicsWorld{' is invalid C code. Use --std or --language to configure the language.", "file": "include/PhysicsWorld.h", "line": 20, "code_context": {"lines": [{"number": 15, "content": "#endif", "is_target": false}, {"number": 16, "content": "", "is_target": false}, {"number": 17, "content": "#include <vector>", "is_target": false}, {"number": 18, "content": "#include <memory>", "is_target": false}, {"number": 19, "content": "", "is_target": false}, {"number": 20, "content": "class PhysicsWorld {", "is_target": true}, {"number": 21, "content": "public:", "is_target": false}, {"number": 22, "content": "    struct ContactPoint {", "is_target": false}, {"number": 23, "content": "        vsg_vec3 position;", "is_target": false}, {"number": 24, "content": "        vsg_vec3 normal;", "is_target": false}, {"number": 25, "content": "        float depth;", "is_target": false}]}, "unique_id": "5cfe7fb8"}], "include/Actuator.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classActuator{' is invalid C code. Use --std or --language to configure the language.", "file": "include/Actuator.h", "line": 24, "code_context": {"lines": [{"number": 19, "content": "using vsg_vec4 = vsg::vec4;", "is_target": false}, {"number": 20, "content": "using vsg_quat = vsg::quat;", "is_target": false}, {"number": 21, "content": "#endif", "is_target": false}, {"number": 22, "content": "", "is_target": false}, {"number": 23, "content": "// Base actuator interface", "is_target": false}, {"number": 24, "content": "class Actuator {", "is_target": true}, {"number": 25, "content": "public:", "is_target": false}, {"number": 26, "content": "    enum Type {", "is_target": false}, {"number": 27, "content": "        POSITION_MOTOR,", "is_target": false}, {"number": 28, "content": "        VELOCITY_MOTOR,", "is_target": false}, {"number": 29, "content": "        TORQUE_MOTOR,", "is_target": false}]}, "unique_id": "c37aa5e3"}], "noise/noisegenerator.h": [{"id": "syntaxError", "severity": "error", "message": "Code 'classNoiseGenerator{' is invalid C code. Use --std or --language to configure the language.", "file": "noise/noisegenerator.h", "line": 14, "code_context": {"lines": [{"number": 9, "content": "#include \"randomgenerator.h\"", "is_target": false}, {"number": 10, "content": "", "is_target": false}, {"number": 11, "content": "/** Interface and basic class for noise generator.", "is_target": false}, {"number": 12, "content": "    It is suitable for single noise channels but also multidimensional noise.", "is_target": false}, {"number": 13, "content": " */", "is_target": false}, {"number": 14, "content": "class NoiseGenerator{", "is_target": true}, {"number": 15, "content": "public:", "is_target": false}, {"number": 16, "content": "  NoiseGenerator()", "is_target": false}, {"number": 17, "content": "  {", "is_target": false}, {"number": 18, "content": "    dimension   = 0;", "is_target": false}, {"number": 19, "content": "    randGen     = 0;", "is_target": false}]}, "unique_id": "cb747bf7"}], "": [{"id": "checkersReport", "severity": "information", "message": "Active checkers: There was critical errors (use --checkers-report=<filename> to see details)", "file": "", "line": 0, "unique_id": "7bbcdf69"}]},
            currentFilter: 'all',
            searchQuery: '',
            groupByFile: true,
            viewed: new Set(),
            fixed: new Set(),
            expandedFiles: new Set()
        };
        
        // Fix patterns
        const fixPatterns = {"missingOverride": {"pattern": "override", "suggestion": "Add override specifier to virtual function", "fix_template": "void functionName() override"}, "passedByValue": {"pattern": "passed by value", "suggestion": "Pass by const reference instead", "fix_template": "const Type& param"}, "uninitMemberVar": {"pattern": "not initialized", "suggestion": "Initialize member in constructor", "fix_template": "ClassName() : member() {}"}, "cstyleCast": {"pattern": "C-style cast", "suggestion": "Use static_cast instead", "fix_template": "static_cast<Type>(value)"}, "useNullptr": {"pattern": "NULL", "suggestion": "Use nullptr instead of NULL", "fix_template": "nullptr"}, "constParameter": {"pattern": "can be declared with const", "suggestion": "Add const qualifier", "fix_template": "const Type param"}, "explicitConstructor": {"pattern": "should be explicit", "suggestion": "Add explicit keyword", "fix_template": "explicit ClassName(param)"}};
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            restoreState();
            applyTheme();
            renderIssues();
            updateProgress();
            
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.key === '/' && e.target.tagName !== 'INPUT') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                }
                if (e.key === 'Escape') {
                    document.getElementById('searchInput').blur();
                    closeModal();
                }
                if (e.key >= '1' && e.key <= '5' && e.ctrlKey) {
                    e.preventDefault();
                    const severities = ['all', 'error', 'warning', 'style', 'performance'];
                    filterBySeverity(severities[parseInt(e.key) - 1]);
                }
            });
            
            // Hide loading
            document.getElementById('loading').style.display = 'none';
        });
        
        // State management
        function saveState() {
            const stateData = {
                viewed: [...state.viewed],
                fixed: [...state.fixed],
                expandedFiles: [...state.expandedFiles],
                currentFilter: state.currentFilter,
                groupByFile: state.groupByFile
            };
            localStorage.setItem('dashboardState', JSON.stringify(stateData));
        }
        
        function restoreState() {
            const saved = localStorage.getItem('dashboardState');
            if (saved) {
                const data = JSON.parse(saved);
                state.viewed = new Set(data.viewed || []);
                state.fixed = new Set(data.fixed || []);
                state.expandedFiles = new Set(data.expandedFiles || []);
                state.currentFilter = data.currentFilter || 'all';
                state.groupByFile = data.groupByFile !== false;
            }
        }
        
        // Theme management
        function applyTheme() {
            const theme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', theme);
            document.getElementById('themeIcon').textContent = theme === 'dark' ? '☀️' : '🌙';
        }
        
        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', next);
            localStorage.setItem('theme', next);
            document.getElementById('themeIcon').textContent = next === 'dark' ? '☀️' : '🌙';
        }
        
        // Rendering
        function renderIssues() {
            const container = document.getElementById('issuesContainer');
            container.innerHTML = '';
            
            const filteredIssues = getFilteredIssues();
            
            if (filteredIssues.length === 0) {
                document.getElementById('emptyState').style.display = 'block';
                return;
            }
            
            document.getElementById('emptyState').style.display = 'none';
            
            if (state.groupByFile) {
                renderGroupedIssues(filteredIssues);
            } else {
                renderFlatIssues(filteredIssues);
            }
        }
        
        function renderGroupedIssues(issues) {
            const container = document.getElementById('issuesContainer');
            const fileMap = new Map();
            
            // Group filtered issues by file
            issues.forEach(issue => {
                const file = issue.file || 'Unknown';
                if (!fileMap.has(file)) {
                    fileMap.set(file, []);
                }
                fileMap.get(file).push(issue);
            });
            
            // Sort files by issue count
            const sortedFiles = Array.from(fileMap.entries())
                .sort((a, b) => b[1].length - a[1].length);
            
            sortedFiles.forEach(([file, fileIssues]) => {
                const fileGroup = createFileGroup(file, fileIssues);
                container.appendChild(fileGroup);
            });
        }
        
        function createFileGroup(file, issues) {
            const group = document.createElement('div');
            group.className = 'file-group';
            
            const header = document.createElement('div');
            header.className = 'file-header';
            header.onclick = () => toggleFileGroup(file);
            
            const fileInfo = document.createElement('div');
            fileInfo.className = 'file-info';
            
            const fileName = document.createElement('div');
            fileName.className = 'file-name';
            fileName.textContent = file;
            
            const issueCount = document.createElement('div');
            issueCount.className = 'issue-count';
            issueCount.textContent = `${issues.length} issue${issues.length > 1 ? 's' : ''}`;
            
            const severityDots = document.createElement('div');
            severityDots.className = 'severity-dots';
            
            // Show severity distribution
            const severityCounts = {};
            issues.forEach(issue => {
                const sev = issue.severity || 'style';
                severityCounts[sev] = (severityCounts[sev] || 0) + 1;
            });
            
            ['error', 'warning', 'style', 'performance', 'information'].forEach(sev => {
                const count = severityCounts[sev] || 0;
                for (let i = 0; i < Math.min(count, 5); i++) {
                    const dot = document.createElement('div');
                    dot.className = `severity-dot ${sev}`;
                    severityDots.appendChild(dot);
                }
            });
            
            fileInfo.appendChild(fileName);
            fileInfo.appendChild(issueCount);
            fileInfo.appendChild(severityDots);
            
            const toggle = document.createElement('div');
            toggle.className = 'file-toggle';
            toggle.textContent = state.expandedFiles.has(file) ? '▼' : '▶';
            
            header.appendChild(fileInfo);
            header.appendChild(toggle);
            
            const issuesContainer = document.createElement('div');
            issuesContainer.className = 'issues-container';
            if (state.expandedFiles.has(file)) {
                issuesContainer.classList.add('expanded');
            }
            
            issues.forEach(issue => {
                const issueEl = createIssueElement(issue);
                issuesContainer.appendChild(issueEl);
            });
            
            group.appendChild(header);
            group.appendChild(issuesContainer);
            
            return group;
        }
        
        function createIssueElement(issue) {
            const item = document.createElement('div');
            item.className = 'issue-item';
            if (state.viewed.has(issue.unique_id)) {
                item.classList.add('viewed');
            }
            if (state.fixed.has(issue.unique_id)) {
                item.classList.add('fixed');
            }
            
            // Click on row shows details modal
            item.onclick = (e) => {
                if (!e.target.classList.contains('action-btn')) {
                    showIssueDetails(issue);
                }
            };
            
            // Severity badge
            const severity = document.createElement('div');
            severity.className = `issue-severity ${issue.severity || 'style'}`;
            severity.textContent = issue.severity || 'style';
            severity.style.background = getSeverityColor(issue.severity);
            severity.style.color = 'white';
            
            // Content
            const content = document.createElement('div');
            content.className = 'issue-content';
            
            const message = document.createElement('div');
            message.className = 'issue-message';
            message.textContent = issue.message || 'No message';
            
            // Inline code preview (1-2 lines)
            const codeLines = getInlineCode(issue);
            if (codeLines.length > 0) {
                const codePreview = document.createElement('div');
                codePreview.className = 'issue-code';
                codePreview.textContent = codeLines.map(line => {
                    // Handle both old format (line_number) and new format (number)
                    const lineNum = line.number || line.line_number || '?';
                    return `${lineNum}: ${line.content}`;
                }).join('\n');
                content.appendChild(codePreview);
            }
            
            const meta = document.createElement('div');
            meta.className = 'issue-meta';
            meta.innerHTML = `
                <span>Line ${issue.line || '?'}</span>
                <span>ID: ${issue.id || 'unknown'}</span>
                <span>Column: ${issue.column || '?'}</span>
            `;
            
            content.appendChild(message);
            content.appendChild(meta);
            
            // Actions
            const actions = document.createElement('div');
            actions.className = 'issue-actions';
            
            // View button
            const viewBtn = document.createElement('button');
            viewBtn.className = 'action-btn';
            viewBtn.textContent = state.viewed.has(issue.unique_id) ? '✓ Viewed' : 'View';
            viewBtn.onclick = (e) => {
                e.stopPropagation();
                markAsViewed(issue);
            };
            
            // Fix button
            const fixBtn = document.createElement('button');
            fixBtn.className = 'action-btn';
            fixBtn.textContent = state.fixed.has(issue.unique_id) ? '✓ Fixed' : 'Fix';
            fixBtn.onclick = (e) => {
                e.stopPropagation();
                markAsFixed(issue);
            };
            
            actions.appendChild(viewBtn);
            actions.appendChild(fixBtn);
            
            // Quick fix suggestion
            const fix = getFixSuggestion(issue);
            if (fix) {
                const fixSuggestion = document.createElement('button');
                fixSuggestion.className = 'action-btn fix-suggestion';
                fixSuggestion.textContent = '💡';
                fixSuggestion.title = fix.suggestion;
                fixSuggestion.onclick = (e) => {
                    e.stopPropagation();
                    showFixSuggestion(fix);
                };
                actions.appendChild(fixSuggestion);
            }
            
            item.appendChild(severity);
            item.appendChild(content);
            item.appendChild(actions);
            
            return item;
        }
        
        function renderFlatIssues(issues) {
            const container = document.getElementById('issuesContainer');
            issues.forEach(issue => {
                const issueEl = createIssueElement(issue);
                container.appendChild(issueEl);
            });
        }
        
        // Modal functions
        function showIssueDetails(issue) {
            const modal = document.getElementById('codeModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `${issue.file || 'Unknown'}:${issue.line || '?'}`;
            
            let content = `
                <div class="issue-details">
                    <div class="detail-section">
                        <h4>Issue Information</h4>
                        <p><strong>Message:</strong> ${escapeHtml(issue.message || 'No message')}</p>
                        <p><strong>Severity:</strong> <span class="issue-severity ${issue.severity || 'style'}" style="background: ${getSeverityColor(issue.severity)}; color: white;">${issue.severity || 'style'}</span></p>
                        <p><strong>ID:</strong> ${issue.id || 'unknown'}</p>
                        <p><strong>Location:</strong> Line ${issue.line || '?'}, Column ${issue.column || '?'}</p>
                    </div>
            `;
            
            // Add code context if available
            // Check both new and old structure for code context
            const hasNewContext = issue.code_context && issue.code_context.lines;
            const hasOldContext = issue.context && issue.context.code_lines;
            
            if (hasNewContext || hasOldContext) {
                content += `
                    <div class="detail-section">
                        <h4>Code Context</h4>
                        <div class="code-context">
                `;
                
                const lines = hasNewContext ? issue.code_context.lines : issue.context.code_lines;
                const isNewFormat = hasNewContext;
                
                lines.forEach(line => {
                    const lineNum = isNewFormat ? line.number : line.line_number;
                    const isHighlighted = isNewFormat ? (line.is_target || lineNum === issue.line) : (lineNum === issue.line);
                    content += `
                        <div class="code-line ${isHighlighted ? 'highlighted' : ''}">
                            <span class="line-number">${lineNum}</span>
                            <span class="line-content">${escapeHtml(line.content)}</span>
                        </div>
                    `;
                });
                
                content += `
                        </div>
                    </div>
                `;
            }
            
            // Add quick fix if available
            const fix = getFixSuggestion(issue);
            if (fix) {
                content += `
                    <div class="detail-section">
                        <h4>Quick Fix Suggestion</h4>
                        <p>${fix.suggestion}</p>
                        <code class="issue-code">${escapeHtml(fix.template)}</code>
                        <button class="action-btn fix-suggestion" onclick="copyToClipboard('${escapeHtml(fix.template)}')">
                            Copy Fix Template
                        </button>
                    </div>
                `;
            }
            
            content += '</div>';
            
            modalBody.innerHTML = content;
            modal.classList.add('show');
            
            // Mark as viewed when opening details
            if (!state.viewed.has(issue.unique_id)) {
                markAsViewed(issue);
            }
        }
        
        function closeModal() {
            const modal = document.getElementById('codeModal');
            modal.classList.remove('show');
        }
        
        // Click outside modal to close
        document.getElementById('codeModal').addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                closeModal();
            }
        });
        
        // Filtering
        function getFilteredIssues() {
            let filtered = state.issues;
            
            // Filter by severity
            if (state.currentFilter !== 'all') {
                filtered = filtered.filter(issue => issue.severity === state.currentFilter);
            }
            
            // Filter by search
            if (state.searchQuery) {
                filtered = filtered.filter(issue => matchesSearch(issue, state.searchQuery));
            }
            
            return filtered;
        }
        
        function matchesSearch(issue, query) {
            const parts = query.toLowerCase().split(' ');
            const issueText = `${issue.message} ${issue.file} ${issue.id}`.toLowerCase();
            
            return parts.every(part => {
                // Check for severity filter
                if (['error', 'warning', 'style', 'performance'].includes(part)) {
                    return issue.severity === part;
                }
                
                // Check for file extension
                if (part.startsWith('.')) {
                    return issue.file && issue.file.endsWith(part);
                }
                
                // Check for file path
                if (part.includes('/')) {
                    return issue.file && issue.file.includes(part);
                }
                
                // General text search
                return issueText.includes(part);
            });
        }
        
        function filterBySeverity(severity) {
            state.currentFilter = severity;
            
            // Update active button
            document.querySelectorAll('.stat-badge').forEach(badge => {
                badge.classList.remove('active');
            });
            
            if (severity === 'all') {
                document.querySelector('.stat-badge.total').classList.add('active');
            } else {
                document.querySelector(`.stat-badge.${severity}`).classList.add('active');
            }
            
            renderIssues();
            showToast(`Showing ${severity === 'all' ? 'all issues' : severity + ' issues'}`);
        }
        
        function handleSearch(event) {
            state.searchQuery = event.target.value;
            renderIssues();
        }
        
        // Actions
        function markAsViewed(issue) {
            if (!state.viewed.has(issue.unique_id)) {
                state.viewed.add(issue.unique_id);
                saveState();
                updateProgress();
                renderIssues();
            }
        }
        
        function markAsFixed(issue) {
            if (state.fixed.has(issue.unique_id)) {
                state.fixed.delete(issue.unique_id);
            } else {
                state.fixed.add(issue.unique_id);
                state.viewed.add(issue.unique_id);
            }
            saveState();
            updateProgress();
            renderIssues();
        }
        
        function toggleFileGroup(file) {
            if (state.expandedFiles.has(file)) {
                state.expandedFiles.delete(file);
            } else {
                state.expandedFiles.add(file);
            }
            saveState();
            renderIssues();
        }
        
        function toggleGrouping() {
            state.groupByFile = !state.groupByFile;
            saveState();
            renderIssues();
            showToast(state.groupByFile ? 'Grouping by file' : 'Flat view');
        }
        
        // Progress tracking
        function updateProgress() {
            const total = state.issues.length;
            const viewed = state.viewed.size;
            const fixed = state.fixed.size;
            
            document.getElementById('progressText').textContent = `${viewed} / ${total} issues reviewed`;
            document.getElementById('fixedCount').textContent = fixed;
            
            const percentage = total > 0 ? (viewed / total) * 100 : 0;
            document.getElementById('progressFill').style.width = `${percentage}%`;
        }
        
        // Utilities
        function getSeverityColor(severity) {
            const colors = {
                error: '#dc3545',
                warning: '#f39c12',
                style: '#6f42c1',
                performance: '#198754',
                information: '#0dcaf0',
                portability: '#6c757d'
            };
            return colors[severity] || '#6c757d';
        }
        
        function getInlineCode(issue) {
            // Check both new and old structure for compatibility
            const codeContext = issue.code_context;
            const oldContext = issue.context;
            
            let lines = null;
            let isNewFormat = false;
            
            if (codeContext && codeContext.lines) {
                lines = codeContext.lines;
                isNewFormat = true;
            } else if (oldContext && oldContext.code_lines) {
                lines = oldContext.code_lines;
                isNewFormat = false;
            }
            
            if (!lines) return [];
            
            const targetLine = issue.line;
            
            // Find the target line
            for (let i = 0; i < lines.length; i++) {
                const lineNum = isNewFormat ? lines[i].number : lines[i].line_number;
                const isTarget = isNewFormat ? (lines[i].is_target || lineNum === targetLine) : (lineNum === targetLine);
                
                if (isTarget) {
                    const result = [];
                    if (i > 0) result.push(lines[i-1]);
                    result.push(lines[i]);
                    if (i < lines.length - 1 && result.length < 2) {
                        result.push(lines[i+1]);
                    }
                    return result;
                }
            }
            
            return lines.slice(0, 2);
        }
        
        function getFixSuggestion(issue) {
            const message = (issue.message || '').toLowerCase();
            
            for (const [fixId, pattern] of Object.entries(fixPatterns)) {
                if (message.includes(pattern.pattern)) {
                    return {
                        id: fixId,
                        suggestion: pattern.suggestion,
                        template: pattern.fix_template
                    };
                }
            }
            
            return null;
        }
        
        function showFixSuggestion(fix) {
            showToast(`${fix.suggestion}: ${fix.template}`);
            copyToClipboard(fix.template);
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('Copied to clipboard!');
            }).catch(() => {
                showToast('Failed to copy to clipboard');
            });
        }
        
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        function exportData() {
            const exportData = {
                issues: getFilteredIssues(),
                viewed: [...state.viewed],
                fixed: [...state.fixed],
                timestamp: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(exportData, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `code-analysis-export-${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showToast('Data exported successfully');
        }
        
        function showHelp() {
            const helpText = `
Keyboard Shortcuts:
• / - Focus search
• Ctrl+1-5 - Filter by severity
• Esc - Close modal or unfocus search

Search Examples:
• "error in .h" - Errors in header files
• "warning controller" - Warnings with "controller"
• "style multiply" - Style issues with "multiply"
• ".cpp" - Issues in .cpp files

Actions:
• Click issue row - View full details and code context
• View button - Mark as viewed
• Fix button - Mark as fixed
• 💡 button - Copy quick fix template
            `;
            alert(helpText);
        }
    </script>
</body>
</html>