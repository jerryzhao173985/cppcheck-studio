# CPPCheck Studio CLI

Professional C++ static analysis tool with interactive fixes and beautiful reports.

## Installation

```bash
npm install -g cppcheck-studio
```

## Quick Start

```bash
# Initialize configuration
cppcheck-studio init

# Start web interface
cppcheck-studio start

# Analyze current directory
cppcheck-studio analyze

# Apply fixes interactively
cppcheck-studio fix --interactive
```

## Commands

### `start` - Launch Web Interface

Start the CPPCheck Studio web application for interactive analysis.

```bash
cppcheck-studio start [options]

Options:
  -p, --port <port>     Port to run on (default: 3000)
  -o, --open           Open browser automatically (default: true)
  --project <path>     Project path to analyze
```

### `analyze` - Run Analysis

Analyze a C++ project and generate reports.

```bash
cppcheck-studio analyze [path] [options]

Options:
  -p, --profile <profile>    Analysis profile: quick|full|cpp17|cpp20|memory|performance (default: quick)
  -f, --format <format>      Output format: json|html|text (default: text)
  -o, --output <file>        Save output to file
  --incremental              Use incremental analysis (default: true)
  --exclude <patterns...>    Exclude file patterns
```

### `fix` - Apply Fixes

Preview and apply automatic fixes for common issues.

```bash
cppcheck-studio fix [path] [options]

Options:
  --dry-run                    Preview without applying (default: true)
  --confidence <threshold>     Minimum confidence 0-100 (default: 80)
  --types <types...>          Fix types: nullptr|override|explicit|auto
  -i, --interactive           Interactive selection mode
```

### `check` - CI Mode

Check code quality for continuous integration.

```bash
cppcheck-studio check [path] [options]

Options:
  --threshold <severity>    Fail on: error|warning|any (default: error)
  --format <format>         Output format: text|junit|github (default: text)
```

### `init` - Initialize Configuration

Create a `.cppcheckstudio.json` configuration file.

```bash
cppcheck-studio init
```

## Configuration

Create `.cppcheckstudio.json` in your project root:

```json
{
  "profile": "cpp17",
  "paths": ["src", "include"],
  "exclude": ["build/**", "third_party/**"],
  "incremental": true,
  "autoFix": {
    "enabled": true,
    "confidence": 85,
    "types": ["nullptr", "override", "explicit", "auto"]
  },
  "customRules": [],
  "suppressions": [
    "missingInclude:*/external/*"
  ]
}
```

## Analysis Profiles

- **quick** - Fast development checks
- **full** - Comprehensive analysis
- **cpp17** - C++17 modernization
- **cpp20** - C++20 features
- **memory** - Memory safety focus
- **performance** - Performance optimizations

## Fix Types

- **nullptr** - Replace NULL with nullptr
- **override** - Add override specifiers
- **explicit** - Add explicit to constructors
- **auto** - Use auto for obvious types
- **range-for** - Modernize for loops
- **using** - Replace typedef with using

## CI/CD Integration

### GitHub Actions

```yaml
- name: C++ Analysis
  run: |
    npm install -g cppcheck-studio
    cppcheck-studio check --threshold error --format github
```

### Pre-commit Hook

```bash
# Generated by 'cppcheck-studio init'
#!/bin/sh
files=$(git diff --cached --name-only | grep -E '\.(cpp|hpp|h)$')
if [ -n "$files" ]; then
  cppcheck-studio check --threshold error
fi
```

## Examples

### Basic Analysis

```bash
# Quick analysis with text output
cppcheck-studio analyze

# Full analysis with HTML report
cppcheck-studio analyze --profile full --format html -o report.html
```

### Applying Fixes

```bash
# Preview all fixes
cppcheck-studio fix --dry-run

# Apply high-confidence fixes
cppcheck-studio fix --confidence 90 --dry-run=false

# Interactive fix selection
cppcheck-studio fix --interactive
```

### CI Pipeline

```bash
# Fail on any error
cppcheck-studio check --threshold error

# Generate JUnit report
cppcheck-studio check --format junit > test-results.xml
```

## Requirements

- Node.js 18+
- cppcheck installed on system
- C++ project with standard structure

## Troubleshooting

### cppcheck not found

```bash
# Ubuntu/Debian
sudo apt-get install cppcheck

# macOS
brew install cppcheck

# Or specify custom path
CPPCHECK_BINARY=/custom/path/cppcheck cppcheck-studio analyze
```

### Permission denied

```bash
# Use npx instead of global install
npx cppcheck-studio analyze
```

## License

MIT